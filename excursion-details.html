<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- SEO Meta Tags -->
    <title>Excursion Details - WeHostMorocco | Marrakech Tours & Experiences</title>
    <meta name="description" content="Discover detailed information about our amazing excursions in Marrakech and Morocco. Book your perfect adventure with WeHostMorocco - your trusted travel partner in Morocco.">
    <meta name="keywords" content="WeHostMorocco, Marrakech excursions, Morocco tours, excursion details, book tour Marrakech, Morocco travel experiences">
    <meta name="author" content="WeHostMorocco">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://wehostmorocco.com/excursion-details.html">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://wehostmorocco.com/assets/metadata/2.jpeg">
    <link rel="icon" type="image/png" sizes="32x32" href="https://wehostmorocco.com/assets/metadata/2.jpeg">
    <link rel="icon" type="image/png" sizes="16x16" href="https://wehostmorocco.com/assets/metadata/2.jpeg">
    <link rel="apple-touch-icon" sizes="180x180" href="https://wehostmorocco.com/assets/metadata/2.jpeg">
    <link rel="shortcut icon" type="image/png" href="https://wehostmorocco.com/assets/metadata/2.jpeg">
    <meta name="msapplication-TileImage" content="https://wehostmorocco.com/assets/metadata/2.jpeg">
    <meta name="msapplication-TileColor" content="#FF6B35">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://wehostmorocco.com/excursion-details.html">
    <meta property="og:title" content="Excursion Details - WeHostMorocco | Marrakech Tours">
    <meta property="og:description" content="Discover detailed information about our amazing excursions in Marrakech and Morocco. Book your perfect adventure with WeHostMorocco.">
    <meta property="og:image" content="https://wehostmorocco.com/assets/metadata/2.jpeg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="WeHostMorocco">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://wehostmorocco.com/excursion-details.html">
    <meta name="twitter:title" content="Excursion Details - WeHostMorocco | Marrakech Tours">
    <meta name="twitter:description" content="Discover detailed information about our amazing excursions in Marrakech and Morocco. Book your perfect adventure with WeHostMorocco.">
    <meta name="twitter:image" content="https://wehostmorocco.com/assets/metadata/2.jpeg">
    
    <!-- Additional SEO -->
    <meta name="theme-color" content="#FF6B35">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: '#FF6B35',
                            light: '#FF8A5C',
                            dark: '#E55A2B'
                        },
                        secondary: {
                            DEFAULT: '#4ECDC4',
                            light: '#6ED7D0',
                            dark: '#3DB8B0'
                        },
                        dark: '#2C3E50',
                        light: '#F8F9FA'
                    },
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif']
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in',
                        'slide-up': 'slideUp 0.5s ease-out',
                        'bounce-in': 'bounceIn 0.6s ease-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        },
                        bounceIn: {
                            '0%': { transform: 'scale(0.3)', opacity: '0' },
                            '50%': { transform: 'scale(1.05)' },
                            '70%': { transform: 'scale(0.9)' },
                            '100%': { transform: 'scale(1)', opacity: '1' }
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Optimize for mobile performance */
        * {
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }
        
        /* Prevent double-click zoom on images and carousel elements */
        img, button, a, .carousel-prev, .carousel-next, .carousel-dot, .carousel-slide, #hero-carousel, #hero-carousel-track {
            touch-action: manipulation;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }
        
        /* Allow text selection in input fields and textareas */
        input, textarea, select, [contenteditable="true"] {
            touch-action: auto;
            -webkit-user-select: auto;
            user-select: auto;
        }
        
        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }
        
        /* Modern gradient backgrounds */
        .hero-section {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), 
                        url('https://loveincstatic.blob.core.windows.net/loveexploring/2020/Marrakech-full-guide/1Jemaa-el-Fna.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            min-height: 70vh;
        }
        
        /* Mobile optimization for hero background */
        @media (max-width: 768px) {
            .hero-section {
                background-attachment: scroll;
            }
        }

        /* Enhanced floating button */
        .floating-button {
            animation: bounce 2s infinite;
            background: linear-gradient(135deg, #00B894, #00CEC9);
            border: 3px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 25px rgba(0, 184, 148, 0.3);
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        /* Modern tab buttons */
        .tab-button {
            border: 2px solid transparent;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .tab-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .tab-button:hover::before {
            left: 100%;
        }

        .tab-button.active {
            background: linear-gradient(135deg, #FF6B35 0%, #FF8A5C 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.3);
            border-color: #FF6B35;
            transform: scale(1.05);
        }

        /* Better touch targets for mobile */
        @media (max-width: 768px) {
            button, a {
                min-height: 44px;
                min-width: 44px;
            }
        }
        
        /* Optimize images for mobile */
        img {
            max-width: 100%;
            height: auto;
        }

        /* Mobile navbar scroll behavior */
        @media (max-width: 1023px) {
            .navbar-hidden {
                transform: translateY(-100%);
            }
            
            .navbar-visible {
                transform: translateY(0);
            }
            
            nav {
                transition: transform 0.3s ease-in-out;
            }
        }

        /* Responsive badge positioning for very small screens */
        @media (max-width: 480px) {
            .hero-section .absolute {
                position: absolute;
            }
            
            .hero-section .absolute:first-of-type {
                top: 12px !important;
                left: 12px !important;
                right: auto !important;
            }
            
            .hero-section .absolute:last-of-type {
                top: 12px !important;
                right: 12px !important;
                left: auto !important;
            }
        }

        /* Extra small screens - stack badges vertically */
        @media (max-width: 360px) {
            .hero-section .absolute:first-of-type {
                top: 8px !important;
                left: 8px !important;
                right: auto !important;
            }
            
            .hero-section .absolute:last-of-type {
                top: 50px !important;
                right: 8px !important;
                left: auto !important;
            }
        }

        /* Professional dropdown styling */
        .group:hover .group-hover\:opacity-100 {
            opacity: 1;
        }
        
        .group:hover .group-hover\:visible {
            visibility: visible;
        }
        
        .group:hover .group-hover\:rotate-180 {
            transform: rotate(180deg);
        }

        /* Smooth transitions for dropdowns */
        .transition-all {
            transition: all 0.2s ease-in-out;
        }

        /* Checkmark styling */
        [data-lang-check], [data-currency-check], [data-mobile-lang-check], [data-mobile-currency-check] {
            transition: opacity 0.2s ease-in-out;
        }
        
        /* Carousel Styles */
        .carousel-track {
            display: flex;
            transition: transform 0.3s ease-in-out;
            height: 100%;
        }
        
        .carousel-slide {
            min-width: 100%;
            flex-shrink: 0;
            height: 100%;
        }
        
        .carousel-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
        }
        
        /* Web/Desktop carousel styles */
        @media (min-width: 769px) {
            #hero-carousel {
                height: 500px;
                min-height: 500px;
            }
            
            .carousel-track {
                height: 500px !important;
                min-height: 500px !important;
            }
            
            .carousel-slide img {
                height: 500px !important;
                min-height: 500px !important;
            }
            
            .carousel-prev,
            .carousel-next {
                width: 50px;
                height: 50px;
                min-width: 50px;
                min-height: 50px;
            }
            
            .carousel-prev {
                left: 16px;
            }
            
            .carousel-next {
                right: 16px;
            }
        }
        
        .carousel-prev,
        .carousel-next {
            opacity: 1;
            transition: opacity 0.3s ease;
        }
        
        .carousel-dot {
            width: 8px;
            height: 8px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .carousel-dot.active {
            background-color: white;
            transform: scale(1.2);
        }
        
        .carousel-dot:hover {
            background-color: white;
            transform: scale(1.1);
        }
        
        /* Form border styling */
        .border-gray-200 {
            border-color: #c084fc !important;
        }
        
        /* Mobile carousel adjustments */
        @media (max-width: 768px) {
            .carousel-prev,
            .carousel-next {
                width: 40px;
                height: 40px;
                min-width: 40px;
                min-height: 40px;
            }
            
            .carousel-prev {
                left: 8px;
            }
            
            .carousel-next {
                right: 8px;
            }
            
            /* Ensure carousel container is properly sized on mobile */
            #hero-carousel {
                height: 250px;
                min-height: 250px;
            }
            
            .carousel-track {
                height: 250px !important;
                min-height: 250px !important;
            }
            
            .carousel-slide {
                min-width: 100% !important;
                width: 100% !important;
            }
            
            .carousel-slide img {
                height: 250px !important;
                min-height: 250px !important;
                width: 100% !important;
                object-fit: cover;
                object-position: center;
            }
        }
        
        /* Extra small mobile devices */
        @media (max-width: 480px) {
            #hero-carousel {
                height: 200px;
                min-height: 200px;
            }
            
            .carousel-track {
                height: 200px !important;
                min-height: 200px !important;
            }
            
            .carousel-slide img {
                height: 200px !important;
                min-height: 200px !important;
                width: 100% !important;
                object-fit: cover;
                object-position: center;
            }
        }
        /* Footer gradient styling */
        .footer-gradient {
            background: linear-gradient(135deg, #764ba2ba 0%, #667eea 100%);
        }

        /* Mobile reservation button gradient */
        .btn-res-mob {
            background: linear-gradient(135deg, #764ba2ba 0%, #667eea 100%) !important;
        }

        /* Navbar border */
        nav {
            border-bottom: 1px solid #e9d5ff;
        }

        @media (min-width: 1024px) {
            nav {
                border-bottom: none;
            }
        }
    </style>
</head>

<body class="bg-light antialiased">
    <!-- Header -->
    <nav id="navbar" class="sticky top-0 w-full bg-white lg:bg-white lg:backdrop-blur-sm lg:shadow-sm z-50 border-b border-gray-200 lg:border-b-0">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-2 md:py-3">
                <a href="index.html" class="flex items-center">
                    <img src="assets/loogo-larger.png" alt="WeHostMorocco logo" class="object-contain mr-2 h-[56px] w-auto">
                    <span class="text-xl font-bold text-dark"></span>
                </a>

                                 <!-- Language and Currency Selector -->
                 <div class="hidden lg:flex items-center space-x-4 mr-4">
                     <!-- Language Dropdown -->
                     <div class="relative group">
                         <button id="langDropdownBtn" class="flex items-center space-x-2 text-sm text-gray-600 hover:text-gray-800 transition-colors duration-200 px-3 py-2 rounded-lg hover:bg-gray-50">
                             <i class="fas fa-globe text-lg"></i>
                             <span id="currentLang" class="font-medium">FR</span>
                             <i class="fas fa-chevron-down text-xs transition-transform duration-200 group-hover:rotate-180"></i>
                         </button>
                                                   <div id="langDropdown" class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                              <div class="py-2">
                                  <a href="#" data-lang="fr" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-primary transition-colors duration-200">
                                      <span class="text-xl mr-3 flex-shrink-0">üá´üá∑</span>
                                      <span>Fran√ßais</span>
                                      <i class="fas fa-check text-primary ml-auto opacity-0" data-lang-check="fr"></i>
                                  </a>
                                  <a href="#" data-lang="en" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-primary transition-colors duration-200">
                                      <span class="text-xl mr-3 flex-shrink-0">üá∫üá∏</span>
                                      <span>English</span>
                                      <i class="fas fa-check text-primary ml-auto opacity-0" data-lang-check="en"></i>
                                  </a>
                                  <a href="#" data-lang="es" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-primary transition-colors duration-200">
                                      <span class="text-xl mr-3 flex-shrink-0">üá™üá∏</span>
                                      <span>Espa√±ol</span>
                                      <i class="fas fa-check text-primary ml-auto opacity-0" data-lang-check="es"></i>
                                  </a>
                              </div>
                          </div>
                     </div>
                     
                     <!-- Currency Dropdown -->
                     <div class="relative group">
                         <button id="currencyDropdownBtn" class="flex items-center space-x-2 text-sm text-gray-600 hover:text-gray-800 transition-colors duration-200 px-3 py-2 rounded-lg hover:bg-gray-50">
                             <i class="fas fa-coins text-lg"></i>
                             <span id="currentCurrency" class="font-medium">EUR</span>
                             <i class="fas fa-chevron-down text-xs transition-transform duration-200 group-hover:rotate-180"></i>
                         </button>
                                                   <div id="currencyDropdown" class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                              <div class="py-2">
                                  <a href="#" data-currency="mad" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-primary transition-colors duration-200">
                                      <span class="text-lg font-bold text-green-600 mr-3 flex-shrink-0">MAD</span>
                                      <span>MAD (Dirham)</span>
                                      <i class="fas fa-check text-primary ml-auto opacity-0" data-currency-check="mad"></i>
                                  </a>
                                  <a href="#" data-currency="eur" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-primary transition-colors duration-200">
                                      <span class="text-lg font-bold text-blue-600 mr-3 flex-shrink-0">‚Ç¨</span>
                                      <span>EUR (Euro)</span>
                                      <i class="fas fa-check text-primary ml-auto" data-currency-check="eur"></i>
                                  </a>
                                  <a href="#" data-currency="usd" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-primary transition-colors duration-200">
                                      <span class="text-lg font-bold text-green-600 mr-3 flex-shrink-0">$</span>
                                      <span>USD (Dollar US)</span>
                                      <i class="fas fa-check text-primary ml-auto opacity-0" data-currency-check="usd"></i>
                                  </a>
                                  <a href="#" data-currency="cad" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-primary transition-colors duration-200">
                                      <span class="text-lg font-bold text-red-600 mr-3 flex-shrink-0">C$</span>
                                      <span>CAD (Dollar Canadien)</span>
                                      <i class="fas fa-check text-primary ml-auto opacity-0" data-currency-check="cad"></i>
                                  </a>
                                  <a href="#" data-currency="gbp" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-primary transition-colors duration-200">
                                      <span class="text-lg font-bold text-blue-600 mr-3 flex-shrink-0">¬£</span>
                                      <span>GBP (Pound)</span>
                                      <i class="fas fa-check text-primary ml-auto opacity-0" data-currency-check="gbp"></i>
                                  </a>
                              </div>
                          </div>
                     </div>
                 </div>

                <div class="hidden lg:flex items-center space-x-8">
                    <a href="index.html#accueil" class="text-gray-800 hover:text-gray-600 transition-colors duration-200 font-medium text-sm" data-i18n="nav.home">Accueil</a>
                    <a href="index.html#services" class="text-gray-800 hover:text-gray-600 transition-colors duration-200 font-medium text-sm" data-i18n="nav.services">Services</a>
                    <a href="index.html#reviews" class="text-gray-800 hover:text-gray-600 transition-colors duration-200 font-medium text-sm" data-i18n="nav.reviews">Avis</a>
                    <a href="index.html#reservation" class="text-gray-800 hover:text-gray-600 transition-colors duration-200 font-medium text-sm" data-i18n="nav.booking">R√©servation</a>
                    <a href="contact.html" class="text-gray-800 hover:text-gray-600 transition-colors duration-200 font-medium text-sm" data-i18n="nav.contact">Contact</a>

                    <a href="index.html#reservation"
                        class="btn-res-mob text-white px-6 py-2 rounded-full font-medium transition-all duration-200 shadow-md hover:shadow-lg">
                        <i class="fas fa-calendar-check mr-2"></i> <span data-i18n="cta.book">R√©server</span>
                    </a>
                </div>

                <div class="lg:hidden flex items-center space-x-2">
                    <button id="mobile-menu-button"
                        class="text-gray-800 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile menu -->
        <div id="mobile-menu" class="hidden lg:hidden bg-white border-t border-gray-200 shadow-lg">
            <div class="px-4 py-4 space-y-3">
                                 <!-- Mobile Language and Currency Selector -->
                 <div class="py-2 border-b border-gray-200">
                     <!-- Mobile Language Dropdown -->
                     <div class="mb-3">
                         <button id="mobileLangDropdownBtn" class="flex items-center justify-between w-full text-sm text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-50 transition-colors duration-200">
                             <div class="flex items-center space-x-2">
                                 <i class="fas fa-globe text-lg text-primary"></i>
                                 <span data-i18n="labels.languages">Langues:</span>
                                 <span id="mobileCurrentLang" class="font-medium">Fran√ßais</span>
                             </div>
                             <i class="fas fa-chevron-down text-xs transition-transform duration-200"></i>
                         </button>
                                                   <div id="mobileLangDropdown" class="hidden mt-2 ml-8 bg-gray-50 rounded-lg p-2 space-y-1">
                              <a href="#" data-lang="fr" class="flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-white hover:text-primary rounded transition-colors duration-200">
                                  <span class="text-lg mr-2 flex-shrink-0">üá´üá∑</span>
                                  <span>Fran√ßais</span>
                                  <i class="fas fa-check text-primary ml-auto opacity-0" data-mobile-lang-check="fr"></i>
                              </a>
                              <a href="#" data-lang="en" class="flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-white hover:text-primary rounded transition-colors duration-200">
                                  <span class="text-lg mr-2 flex-shrink-0">üá∫üá∏</span>
                                  <span>English</span>
                                  <i class="fas fa-check text-primary ml-auto opacity-0" data-mobile-lang-check="en"></i>
                              </a>
                              <a href="#" data-lang="es" class="flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-white hover:text-primary rounded transition-colors duration-200">
                                  <span class="text-lg mr-2 flex-shrink-0">üá™üá∏</span>
                                  <span>Espa√±ol</span>
                                  <i class="fas fa-check text-primary ml-auto opacity-0" data-mobile-lang-check="es"></i>
                              </a>
                          </div>
                     </div>
                     
                     <!-- Mobile Currency Dropdown -->
                     <div>
                         <button id="mobileCurrencyDropdownBtn" class="flex items-center justify-between w-full text-sm text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-50 transition-colors duration-200">
                             <div class="flex items-center space-x-2">
                                 <i class="fas fa-coins text-lg text-primary"></i>
                                 <span data-i18n="labels.currency">Devise:</span>
                                 <span id="mobileCurrentCurrency" class="font-medium">EUR</span>
                             </div>
                             <i class="fas fa-chevron-down text-xs transition-transform duration-200"></i>
                         </button>
                                                   <div id="mobileCurrencyDropdown" class="hidden mt-2 ml-8 bg-gray-50 rounded-lg p-2 space-y-1">
                              <a href="#" data-currency="mad" class="flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-white hover:text-primary rounded transition-colors duration-200">
                                  <span class="text-lg font-bold text-green-600 mr-2 flex-shrink-0">MAD</span>
                                  <span>MAD (Dirham)</span>
                                  <i class="fas fa-check text-primary ml-auto opacity-0" data-mobile-currency-check="mad"></i>
                              </a>
                              <a href="#" data-currency="eur" class="flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-white hover:text-primary rounded transition-colors duration-200">
                                  <span class="text-lg font-bold text-blue-600 mr-2 flex-shrink-0">‚Ç¨</span>
                                  <span>EUR (Euro)</span>
                                  <i class="fas fa-check text-primary ml-auto" data-mobile-currency-check="eur"></i>
                              </a>
                              <a href="#" data-currency="usd" class="flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-white hover:text-primary rounded transition-colors duration-200">
                                  <span class="text-lg font-bold text-green-600 mr-2 flex-shrink-0">$</span>
                                  <span>USD (Dollar US)</span>
                                  <i class="fas fa-check text-primary ml-auto opacity-0" data-mobile-currency-check="usd"></i>
                              </a>
                              <a href="#" data-currency="cad" class="flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-white hover:text-primary rounded transition-colors duration-200">
                                  <span class="text-lg font-bold text-red-600 mr-2 flex-shrink-0">C$</span>
                                  <span>CAD (Dollar Canadien)</span>
                                  <i class="fas fa-check text-primary ml-auto opacity-0" data-mobile-currency-check="cad"></i>
                              </a>
                              <a href="#" data-currency="gbp" class="flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-white hover:text-primary rounded transition-colors duration-200">
                                  <span class="text-lg font-bold text-blue-600 mr-2 flex-shrink-0">¬£</span>
                                  <span>GBP (Pound)</span>
                                  <i class="fas fa-check text-primary ml-auto opacity-0" data-mobile-currency-check="gbp"></i>
                              </a>
                          </div>
                     </div>
                 </div>
                
                <a href="index.html#accueil" class="block py-3 px-3 text-gray-800 hover:text-primary hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium">
                    <i class="fas fa-home mr-3 text-gray-600"></i><span data-i18n="nav.home">Accueil</span>
                </a>
                <a href="index.html#services" class="block py-3 px-3 text-gray-800 hover:text-primary hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium">
                    <i class="fas fa-concierge-bell mr-3 text-gray-600"></i><span data-i18n="nav.services">Services</span>
                </a>
                <a href="index.html#reviews" class="block py-3 px-3 text-gray-800 hover:text-primary hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium">
                    <i class="fas fa-star mr-3 text-gray-600"></i><span data-i18n="nav.reviews">Avis</span>
                </a>
                <a href="index.html#reservation" class="block py-3 px-3 text-gray-800 hover:text-primary hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium">
                    <i class="fas fa-calendar-check mr-3 text-gray-600"></i><span data-i18n="nav.booking">R√©servation</span>
                </a>
                <a href="contact.html" class="block py-3 px-3 text-gray-800 hover:text-primary hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium">
                    <i class="fas fa-envelope mr-3 text-gray-600"></i><span data-i18n="nav.contact">Contact</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="min-h-screen">
        <!-- Excursion Details Section -->
        <section id="excursion-details" class="py-12 bg-white">
            <div class="max-w-6xl mx-auto px-4">
                <!-- Loading State -->
                <div id="loading" class="text-center py-20">
                    <div class="animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto mb-4"></div>
                    <p class="text-gray-600">Chargement des d√©tails...</p>
                </div>

                <!-- Excursion Content -->
                <div id="excursion-content" class="hidden">
                                                              <!-- Hero Section -->
                      <div class="relative mb-6">
                          <!-- Carousel Container -->
                          <div id="hero-carousel" class="w-full rounded-2xl overflow-hidden relative">
                              <div class="carousel-track flex transition-transform duration-300 ease-in-out" id="hero-carousel-track">
                                  <!-- Slides will be populated by JavaScript -->
                              </div>
                              
                              <!-- Navigation Arrows -->
                              <button class="carousel-prev absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 hover:text-primary w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200 shadow-lg z-10" data-direction="-1">
                                  <i class="fas fa-chevron-left text-sm"></i>
                              </button>
                              <button class="carousel-next absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 hover:text-primary w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200 shadow-lg z-10" data-direction="1">
                                  <i class="fas fa-chevron-right text-sm"></i>
                              </button>
                              
                              <!-- Dots Indicator -->
                              <div class="absolute bottom-3 left-1/2 transform -translate-x-1/2 flex space-x-2 z-10">
                                  <!-- Dots will be populated by JavaScript -->
                              </div>
                          </div>
                          
                          <!-- Duration Badge - Better mobile positioning -->
                          <div class="absolute top-3 left-3 sm:top-4 sm:left-4 md:top-6 md:left-6 bg-white/95 px-2 py-1.5 sm:px-3 sm:py-2 md:px-4 rounded-full text-xs sm:text-sm font-medium shadow-lg backdrop-blur-sm z-20">
                              <i class="fas fa-clock text-primary mr-1.5 sm:mr-2"></i>
                              <span id="excursion-duration"></span>
                          </div>
                          <!-- Price Badge - Better mobile positioning -->
                          <div class="absolute top-3 right-3 sm:top-4 sm:right-4 md:top-6 md:right-6 bg-primary text-white px-2 py-1.5 sm:px-3 sm:py-2 md:px-4 rounded-full text-xs sm:text-sm font-bold shadow-lg z-20">
                              <span id="excursion-price"></span>
                          </div>
                      </div>

                    <!-- Excursion Info -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12">
                        <!-- Main Content -->
                        <div class="lg:col-span-2">
                            <h1 id="excursion-title" class="text-3xl md:text-4xl font-bold text-dark mb-6"></h1>
                            <p id="excursion-description" class="text-gray-600 text-lg mb-8"></p>
                            
                            <!-- Price Display -->
                            <div class="bg-white border-2 border-primary rounded-xl p-4 mb-8 shadow-sm">
                                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
                                    <div class="flex items-center">
                                        <i class="fas fa-tag text-primary text-lg mr-3"></i>
                                        <span class="text-gray-700 font-medium text-sm sm:text-base" data-i18n="excursion.price_label">Prix de l'excursion</span>
                                    </div>
                                    <div class="text-left sm:text-right">
                                        <p id="excursion-price-display" class="text-lg sm:text-xl font-bold text-primary"></p>
                                        <p class="text-xs text-gray-500" data-i18n="excursion.all_fees_included">Tous frais inclus</p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Highlights -->
                            <div class="bg-gray-50 rounded-2xl p-6 mb-8">
                                <h3 class="text-xl font-bold text-dark mb-4" data-i18n="excursion.highlights_title">Points forts de cette excursion</h3>
                                <div id="excursion-highlights" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <!-- Highlights will be populated by JavaScript -->
                                </div>
                            </div>

                            <!-- Itinerary -->
                            <div class="bg-white border border-gray-200 rounded-2xl p-6 mb-8">
                                <h3 class="text-xl font-bold text-dark mb-4" data-i18n="excursion.itinerary_title">Itin√©raire d√©taill√©</h3>
                                <div id="excursion-itinerary" class="space-y-4">
                                    <!-- Itinerary will be populated by JavaScript -->
                                </div>
                            </div>

                            <!-- What's Included -->
                            <div class="bg-white border border-gray-200 rounded-2xl p-6">
                                <h3 class="text-xl font-bold text-dark mb-4" data-i18n="excursion.included_title">Ce qui est inclus</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <h4 class="font-semibold text-green-600 mb-3" data-i18n="excursion.included_label">‚úÖ Inclus dans le prix</h4>
                                        <ul id="excursion-included" class="space-y-2 text-gray-600">
                                            <!-- Included items will be populated by JavaScript -->
                                        </ul>
                                    </div>
                                    <div>
                                        <h4 class="font-semibold text-red-600 mb-3" data-i18n="excursion.not_included_label">‚ùå Non inclus</h4>
                                        <ul id="excursion-not-included" class="space-y-2 text-gray-600">
                                            <!-- Not included items will be populated by JavaScript -->
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                                                 <!-- Sidebar -->
                         <div class="lg:col-span-1">
                             
                             <!-- Quick Info Card -->
                             <div class="bg-white border border-gray-200 rounded-2xl p-6 sticky top-24">
                                 <h3 class="text-xl font-bold text-dark mb-4" data-i18n="excursion.quick_info">Informations rapides</h3>
                                <div class="space-y-4 mb-6">
                                    <div id="excursion-group-size-container" class="flex items-center">
                                        <i class="fas fa-users text-primary w-6"></i>
                                        <span class="ml-3 text-gray-600"><span data-i18n="excursion.group_label">Groupe</span>: <span id="excursion-group-size" class="font-medium"></span></span>
                                    </div>
                                     <div class="flex items-center">
                                         <i class="fas fa-signal text-primary w-6"></i>
                                         <span class="ml-3 text-gray-600"><span data-i18n="excursion.difficulty_label">Niveau</span>: <span id="excursion-difficulty" class="font-medium"></span></span>
                                     </div>
                                     <div class="flex items-center">
                                         <i class="fas fa-car text-primary w-6"></i>
                                         <span class="ml-3 text-gray-600"><span data-i18n="excursion.transport_label">Transport</span>: <span id="excursion-transport" class="font-medium"></span></span>
                                     </div>
                                     <div class="flex items-center">
                                         <i class="fas fa-language text-primary w-6"></i>
                                         <span class="ml-3 text-gray-600"><span data-i18n="excursion.guide_label">Guide</span>: <span id="excursion-guide" class="font-medium"></span></span>
                                     </div>
                                 </div>
                                 
                                 <div class="bg-primary/10 rounded-lg p-4 mb-6">
                                     <p class="text-primary font-bold text-center" data-i18n="excursion.book_now_pay_later">üîò R√©server maintenant et payer apr√®s</p>
                                 </div>
                                 
                                 <button onclick="scrollToBooking()" class="w-full bg-primary hover:bg-primary-dark text-white py-3 px-6 rounded-lg font-medium transition-all duration-200 hover:scale-105">
                                     <i class="fas fa-calendar-check mr-2"></i><span data-i18n="excursion.book_excursion">R√©server cette excursion</span>
                                 </button>
                             </div>
                         </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Booking Form Section -->
        <section id="booking-form" class="py-16 bg-gray-50">
            <div class="max-w-4xl mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-dark mb-4" data-i18n="excursion.book_excursion">R√©server cette excursion</h2>
                    <p class="text-gray-600 text-lg" data-i18n="excursion.form_description">Remplissez le formulaire ci-dessous pour r√©server votre place</p>
                </div>

                <div class="bg-white border border-purple-300 rounded-2xl shadow-lg p-8">
                    <form id="excursion-booking-form" class="space-y-6">
                        <!-- Hidden fields -->
                        <input type="hidden" id="excursion-id" name="excursion_id">
                        <input type="hidden" id="excursion-name" name="excursion_name">
                        <input type="hidden" id="excursion-price-value" name="excursion_price">

                        <!-- Date and Time -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-gray-700 font-medium mb-2" data-i18n="excursion.date_label">Date souhait√©e *</label>
                                <input type="date" name="date" required min="" 
                                       class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-colors">
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2" data-i18n="excursion.time_label">Heure de d√©part</label>
                                <div id="time-field-container">
                                    <select name="time" id="time-select" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-colors">
                                        <option value="" data-i18n="excursion.select_time">S√©lectionner une heure</option>
                                        <option value="06:00">06:00</option>
                                        <option value="07:00">07:00</option>
                                        <option value="08:00">08:00</option>
                                        <option value="09:00">09:00</option>
                                        <option value="10:00">10:00</option>
                                    </select>
                                    <div id="time-text-display" class="hidden px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg text-gray-700">
                                        <strong data-i18n="excursion.unique_time">Une heure unique √† partir de 5h00</strong><br>
                                        <span class="text-sm" data-i18n="excursion.time_note">(L'heure exacte sera communiqu√©e apr√®s la r√©servation.)</span>
                                        <input type="hidden" name="time" value="5h00">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Duration Option (for tour-marrakech) -->
                        <div id="duration-option-section" style="display: none;">
                            <label class="block text-gray-700 font-medium mb-2" data-i18n="excursion.duration_label">Dur√©e de la visite *</label>
                            <select name="duration_option" id="duration-option"
                                    class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-colors">
                                <option value="" data-i18n="excursion.select_option">S√©lectionnez une option</option>
                                <option value="half-day" data-i18n="excursion.half_day">¬Ω journ√©e</option>
                                <option value="full-day" data-i18n="excursion.full_day">Journ√©e compl√®te</option>
                            </select>
                        </div>

                        <!-- Number of People and Group Number -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-gray-700 font-medium mb-2" data-i18n="excursion.people_label">Nombre de personnes *</label>
                                <div class="flex items-center space-x-4">
                                    <button type="button" onclick="changePeople(-1)" class="w-10 h-10 rounded-full border-2 border-primary text-primary hover:bg-primary hover:text-white transition-colors">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <input type="number" id="people-count" name="people" value="1" min="1" max="4" required
                                           class="w-20 text-center text-xl font-bold border-0 focus:outline-none">
                                    <button type="button" onclick="changePeople(1)" class="w-10 h-10 rounded-full border-2 border-primary text-primary hover:bg-primary hover:text-white transition-colors">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                                <p class="text-sm text-gray-500 mt-2" data-i18n="excursion.max_people">Maximum 4 personnes par groupe</p>
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2" data-i18n="excursion.group_number_label">Nombre de groupe</label>
                                <div class="flex items-center space-x-4">
                                    <button type="button" onclick="changeGroupNumber(-1)" class="w-10 h-10 rounded-full border-2 border-primary text-primary hover:bg-primary hover:text-white transition-colors">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <input type="number" id="group-number" name="group_number" value="1" min="1" max="10"
                                           class="w-20 text-center text-xl font-bold border-0 focus:outline-none">
                                    <button type="button" onclick="changeGroupNumber(1)" class="w-10 h-10 rounded-full border-2 border-primary text-primary hover:bg-primary hover:text-white transition-colors">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                                <p class="text-sm text-gray-500 mt-2" data-i18n="excursion.group_number_note">Optionnel - Nombre pour identifier votre groupe</p>
                            </div>
                        </div>

                        <!-- Contact Information -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-gray-700 font-medium mb-2" data-i18n="excursion.email_label">Email *</label>
                                <input type="email" name="email" required 
                                       data-i18n-placeholder="excursion.email_placeholder"
                                       placeholder="votre@email.com"
                                       class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-colors">
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2" data-i18n="excursion.phone_label">T√©l√©phone *</label>
                                <div class="flex border border-gray-200 rounded-lg focus-within:ring-2 focus-within:ring-primary focus-within:border-primary overflow-hidden transition-colors">
                                    <select name="country_code" class="w-20 sm:w-24 px-2 sm:px-3 py-3 border-0 focus:outline-none text-xs sm:text-sm bg-white">
                                        <!-- Morocco & North Africa -->
                                        <option value="+212" selected>üá≤üá¶ +212</option>
                                        <option value="+213">üá©üáø +213</option>
                                        <option value="+216">üáπüá≥ +216</option>
                                        <option value="+218">üá±üáæ +218</option>
                                        <option value="+20">üá™üá¨ +20</option>
                                        
                                        <!-- Europe -->
                                        <option value="+33">üá´üá∑ +33</option>
                                        <option value="+44">üá¨üáß +44</option>
                                        <option value="+49">üá©üá™ +49</option>
                                        <option value="+34">üá™üá∏ +34</option>
                                        <option value="+39">üáÆüáπ +39</option>
                                        <option value="+31">üá≥üá± +31</option>
                                        <option value="+32">üáßüá™ +32</option>
                                        <option value="+41">üá®üá≠ +41</option>
                                        <option value="+43">üá¶üáπ +43</option>
                                        <option value="+46">üá∏üá™ +46</option>
                                        <option value="+47">üá≥üá¥ +47</option>
                                        <option value="+45">üá©üá∞ +45</option>
                                        <option value="+358">üá´üáÆ +358</option>
                                        <option value="+351">üáµüáπ +351</option>
                                        <option value="+30">üá¨üá∑ +30</option>
                                        <option value="+48">üáµüá± +48</option>
                                        <option value="+420">üá®üáø +420</option>
                                        <option value="+421">üá∏üá∞ +421</option>
                                        <option value="+40">üá∑üá¥ +40</option>
                                        <option value="+359">üáßüá¨ +359</option>
                                        <option value="+385">üá≠üá∑ +385</option>
                                        <option value="+386">üá∏üáÆ +386</option>
                                        <option value="+387">üáßüá¶ +387</option>
                                        <option value="+389">üá≤üá∞ +389</option>
                                        <option value="+381">üá∑üá∏ +381</option>
                                        <option value="+382">üá≤üá™ +382</option>
                                        <option value="+355">üá¶üá± +355</option>
                                        <option value="+7">üá∑üá∫ +7</option>
                                        <option value="+380">üá∫üá¶ +380</option>
                                        <option value="+375">üáßüáæ +375</option>
                                        <option value="+370">üá±üáπ +370</option>
                                        <option value="+371">üá±üáª +371</option>
                                        <option value="+372">üá™üá™ +372</option>
                                        <option value="+90">üáπüá∑ +90</option>
                                        
                                        <!-- Americas -->
                                        <option value="+1">üá∫üá∏ +1</option>
                                        <option value="+1">üá®üá¶ +1</option>
                                        <option value="+55">üáßüá∑ +55</option>
                                        <option value="+52">üá≤üáΩ +52</option>
                                        <option value="+54">üá¶üá∑ +54</option>
                                        <option value="+56">üá®üá± +56</option>
                                        <option value="+57">üá®üá¥ +57</option>
                                        <option value="+58">üáªüá™ +58</option>
                                        <option value="+51">üáµüá™ +51</option>
                                        <option value="+591">üáßüá¥ +591</option>
                                        <option value="+598">üá∫üáæ +598</option>
                                        <option value="+595">üáµüáæ +595</option>
                                        <option value="+593">üá™üá® +593</option>
                                        <option value="+592">üá¨üáæ +592</option>
                                        <option value="+597">üá∏üá∑ +597</option>
                                        <option value="+594">üá¨üá´ +594</option>
                                        <option value="+596">üá≤üá∂ +596</option>
                                        
                                        <!-- Asia -->
                                        <option value="+86">üá®üá≥ +86</option>
                                        <option value="+81">üáØüáµ +81</option>
                                        <option value="+82">üá∞üá∑ +82</option>
                                        <option value="+91">üáÆüá≥ +91</option>
                                        <option value="+92">üáµüá∞ +92</option>
                                        <option value="+880">üáßüá© +880</option>
                                        <option value="+94">üá±üá∞ +94</option>
                                        <option value="+977">üá≥üáµ +977</option>
                                        <option value="+975">üáßüáπ +975</option>
                                        <option value="+960">üá≤üáª +960</option>
                                        <option value="+65">üá∏üá¨ +65</option>
                                        <option value="+60">üá≤üáæ +60</option>
                                        <option value="+66">üáπüá≠ +66</option>
                                        <option value="+84">üáªüá≥ +84</option>
                                        <option value="+855">üá∞üá≠ +855</option>
                                        <option value="+856">üá±üá¶ +856</option>
                                        <option value="+95">üá≤üá≤ +95</option>
                                        <option value="+63">üáµüá≠ +63</option>
                                        <option value="+62">üáÆüá© +62</option>
                                        <option value="+673">üáßüá≥ +673</option>
                                        <option value="+98">üáÆüá∑ +98</option>
                                        <option value="+972">üáÆüá± +972</option>
                                        <option value="+961">üá±üáß +961</option>
                                        <option value="+962">üáØüá¥ +962</option>
                                        <option value="+963">üá∏üáæ +963</option>
                                        <option value="+964">üáÆüá∂ +964</option>
                                        <option value="+965">üá∞üáº +965</option>
                                        <option value="+966">üá∏üá¶ +966</option>
                                        <option value="+967">üáæüá™ +967</option>
                                        <option value="+968">üá¥üá≤ +968</option>
                                        <option value="+970">üáµüá∏ +970</option>
                                        <option value="+971">üá¶üá™ +971</option>
                                        <option value="+973">üáßüá≠ +973</option>
                                        <option value="+974">üá∂üá¶ +974</option>
                                        <option value="+996">üá∞üá¨ +996</option>
                                        <option value="+998">üá∫üáø +998</option>
                                        <option value="+992">üáπüáØ +992</option>
                                        <option value="+993">üáπüá≤ +993</option>
                                        <option value="+994">üá¶üáø +994</option>
                                        <option value="+995">üá¨üá™ +995</option>
                                        <option value="+976">üá≤üá≥ +976</option>
                                        
                                        <!-- Africa -->
                                        <option value="+27">üáøüá¶ +27</option>
                                        <option value="+234">üá≥üá¨ +234</option>
                                        <option value="+254">üá∞üá™ +254</option>
                                        <option value="+251">üá™üáπ +251</option>
                                        <option value="+256">üá∫üá¨ +256</option>
                                        <option value="+250">üá∑üáº +250</option>
                                        <option value="+255">üáπüáø +255</option>
                                        <option value="+233">üá¨üá≠ +233</option>
                                        <option value="+225">üá®üáÆ +225</option>
                                        <option value="+226">üáßüá´ +226</option>
                                        <option value="+227">üá≥üá™ +227</option>
                                        <option value="+228">üáπüá¨ +228</option>
                                        <option value="+229">üáßüáØ +229</option>
                                        <option value="+230">üá≤üá∫ +230</option>
                                        <option value="+261">üá≤üá¨ +261</option>
                                        <option value="+248">üá∏üá® +248</option>
                                        <option value="+269">üá∞üá≤ +269</option>
                                        <option value="+253">üá©üáØ +253</option>
                                        <option value="+252">üá∏üá¥ +252</option>
                                        <option value="+249">üá∏üá© +249</option>
                                        <option value="+260">üáøüá≤ +260</option>
                                        <option value="+263">üáøüáº +263</option>
                                        <option value="+264">üá≥üá¶ +264</option>
                                        <option value="+267">üáßüáº +267</option>
                                        <option value="+268">üá∏üáø +268</option>
                                        <option value="+266">üá±üá∏ +266</option>
                                        <option value="+265">üá≤üáº +265</option>
                                        <option value="+258">üá≤üáø +258</option>
                                        <option value="+257">üáßüáÆ +257</option>
                                        <option value="+243">üá®üá© +243</option>
                                        <option value="+242">üá®üá¨ +242</option>
                                        <option value="+241">üá¨üá¶ +241</option>
                                        <option value="+240">üá¨üá∂ +240</option>
                                        <option value="+239">üá∏üáπ +239</option>
                                        <option value="+238">üá®üáª +238</option>
                                        <option value="+237">üá®üá≤ +237</option>
                                        <option value="+236">üá®üá´ +236</option>
                                        <option value="+235">üáπüá© +235</option>
                                        <option value="+232">üá∏üá± +232</option>
                                        <option value="+231">üá±üá∑ +231</option>
                                        <option value="+224">üá¨üá≥ +224</option>
                                        <option value="+223">üá≤üá± +223</option>
                                        <option value="+222">üá≤üá∑ +222</option>
                                        <option value="+221">üá∏üá≥ +221</option>
                                        <option value="+220">üá¨üá≤ +220</option>
                                        
                                        <!-- Oceania -->
                                        <option value="+61">üá¶üá∫ +61</option>
                                        <option value="+64">üá≥üáø +64</option>
                                        <option value="+679">üá´üáØ +679</option>
                                        <option value="+685">üáºüá∏ +685</option>
                                        <option value="+676">üáπüá¥ +676</option>
                                        <option value="+675">üáµüá¨ +675</option>
                                        <option value="+674">üá≥üá∑ +674</option>
                                        <option value="+687">üá≥üá® +687</option>
                                        <option value="+686">üá∞üáÆ +686</option>
                                        <option value="+683">üá≥üá∫ +683</option>
                                        <option value="+682">üá®üá∞ +682</option>
                                        <option value="+680">üáµüáº +680</option>
                                        <option value="+678">üáªüá∫ +678</option>
                                        <option value="+677">üá∏üáß +677</option>
                                        <option value="+673">üáßüá≥ +673</option>
                                        <option value="+672">üá¶üá∂ +672</option>
                                        <option value="+671">üá¨üá∫ +671</option>
                                        <option value="+670">üáπüá± +670</option>
                                    </select>
                                    <div class="w-px bg-gray-300"></div>
                                    <input type="tel" name="phone" required 
                                           data-i18n-placeholder="excursion.phone_placeholder"
                                           placeholder="Votre num√©ro"
                                           class="flex-1 px-3 sm:px-4 py-3 border-0 focus:outline-none text-sm sm:text-base">
                                </div>
                            </div>
                        </div>

                        <!-- Names -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-gray-700 font-medium mb-2" data-i18n="excursion.first_name_label">Pr√©nom *</label>
                                <input type="text" name="first_name" required 
                                       data-i18n-placeholder="excursion.first_name_placeholder"
                                       placeholder="Votre pr√©nom"
                                       class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-colors">
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2" data-i18n="excursion.last_name_label">Nom *</label>
                                <input type="text" name="last_name" required 
                                       data-i18n-placeholder="excursion.last_name_placeholder"
                                       placeholder="Votre nom"
                                       class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-colors">
                            </div>
                        </div>

                        <!-- Special Requests -->
                        <div>
                            <label class="block text-gray-700 font-medium mb-2" data-i18n="excursion.special_requests_label">Demandes sp√©ciales (optionnel)</label>
                            <textarea name="special_requests" rows="4" 
                                      data-i18n-placeholder="excursion.special_requests_placeholder"
                                      placeholder="Allergies alimentaires, accessibilit√©, pr√©f√©rences particuli√®res..."
                                      class="w-full px-4 py-3 border border-gray-100 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary transition-colors"></textarea>
                        </div>

                        <!-- Transport Option -->
                        <div id="transport-option-section" class="bg-gray-50 rounded-lg p-6" style="display: none;">
                            <h3 class="text-lg font-bold text-gray-800 mb-4">
                                <i class="fas fa-car text-primary mr-2"></i><span data-i18n="excursion.add_transport">Rajouter un transport</span>
                            </h3>
                            <div>
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2" data-i18n="excursion.van_count_label">Nombre de Van</label>
                                    <div class="flex items-center space-x-4">
                                        <button type="button" onclick="changeVanCount(-1)" class="w-10 h-10 rounded-full border-2 border-primary text-primary hover:bg-primary hover:text-white transition-colors">
                                            <i class="fas fa-minus"></i>
                                        </button>
                                        <input type="number" id="van-count" name="van_count" value="0" min="0" max="5"
                                               class="w-20 text-center text-xl font-bold border-0 focus:outline-none">
                                        <button type="button" onclick="changeVanCount(1)" class="w-10 h-10 rounded-full border-2 border-primary text-primary hover:bg-primary hover:text-white transition-colors">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                    <p class="text-sm text-gray-500 mt-2" data-i18n="excursion.van_note">Transport optionnel vers Chez Ali</p>
                                </div>
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <div class="text-center">
                            <button type="submit" class="bg-primary hover:bg-primary-dark text-white py-4 px-8 rounded-lg font-bold text-lg transition-all duration-200 hover:scale-105 shadow-lg">
                                <i class="fas fa-paper-plane mr-2"></i><span data-i18n="excursion.submit_booking">Envoyer ma demande de r√©servation</span>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer id="contact" class="footer-gradient text-white pt-12 md:pt-16 pb-8">
        <div class="max-w-7xl mx-auto px-4">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 mb-8 sm:mb-12">
                <div>
                    <div class="flex items-center mb-4">
                        <img src="./assets/lll.png" alt="WeHostMorocco logo" style="width:80px;height:90px;"
                            class="object-contain mr-2">
                    </div>
                    <p class="text-white text-xs sm:text-sm mb-4">
                        Suivez nous :
                    </p>
                    <div class="flex space-x-4">
                        <a href="https://www.instagram.com/wehostmorocco/?hl=en"
                            class="text-white hover:text-gray-200 transition">
                            <i class="fab fa-instagram text-xl"></i>
                        </a>
                        <a href="https://www.facebook.com/share/1AK3irbG4G/?mibextid=wwXIfr" target="_blank" rel="noopener noreferrer" class="text-white hover:text-gray-200 transition">
                            <i class="fab fa-facebook text-xl"></i>
                        </a>
                        <a href="http://www.tiktok.com/@wehostmorocco0" target="_blank" rel="noopener noreferrer" class="text-white hover:text-gray-200 transition">
                            <i class="fab fa-tiktok text-xl"></i>
                        </a>
                    </div>
                </div>

                <div>
                    <h4 class="font-semibold text-lg mb-4">Nos Services</h4>
                    <ul class="space-y-2">
                        <li><a href="index.html#services"
                                class="text-white hover:text-gray-200 text-xs sm:text-sm transition-colors duration-200">Excursions</a></li>
                        <li><a href="index.html#services"
                                class="text-white hover:text-gray-200 text-xs sm:text-sm transition-colors duration-200">Tour Guid√© et visite de la ville</a></li>
                        <li><a href="index.html#services"
                                class="text-white hover:text-gray-200 text-xs sm:text-sm transition-colors duration-200">Transfert A√©roport</a></li>
                        <li><a href="qui-sommes-nous.html"
                                class="text-white hover:text-gray-200 text-xs sm:text-sm transition-colors duration-200">Qui Sommes Nous</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-semibold text-lg mb-4">Contact</h4>
                    <div class="space-y-3">
                        <div class="flex items-start">
                            <i class="fab fa-whatsapp text-green-400 mr-3 flex-shrink-0 -mt-0.25"></i>
                            <a href="tel:+14385186384"
                                class="text-white text-xs sm:text-sm hover:underline leading-tight pt-0.5">+1(438)5186384</a>
                        </div>
                        <div class="flex items-start">
                            <i class="fas fa-envelope text-white mr-3 flex-shrink-0 -mt-0.25"></i>
                            <a href="mailto:Wehostmorocco@gmail.com"
                                class="text-white text-xs sm:text-sm hover:underline leading-tight pt-0.5">Wehostmorocco@gmail.com</a>
                        </div>
                        <div class="flex items-start">
                            <i class="fas fa-map-marker-alt text-white mr-3 flex-shrink-0 -mt-0.25"></i>
                            <span class="text-white text-xs sm:text-sm leading-tight pt-0.5">Marrakech, Maroc</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="border-t border-gray-800 pt-6 sm:pt-8 flex flex-col md:flex-row justify-between items-center">
                <div class="text-white text-xs sm:text-sm mb-4 md:mb-0">
                    &copy; 2025 WeHostMorocco. Tous droits r√©serv√©s.
                </div>
            </div>
        </div>
    </footer>

    <!-- Floating WhatsApp Button -->
    <div class="fixed bottom-4 sm:bottom-6 right-4 sm:right-6 z-50">
        <a href="https://wa.me/14385186384" class="floating-button bg-green-500 hover:bg-green-600 text-white w-14 h-14 sm:w-16 sm:h-16 rounded-full flex items-center justify-center shadow-lg transition-all duration-200 hover:scale-110">
            <i class="fab fa-whatsapp text-xl sm:text-2xl"></i>
        </a>
    </div>

    <script>
        // Mobile menu functionality
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            if (!mobileMenuButton || !mobileMenu) {
                console.warn('Mobile menu elements not found');
                return;
            }

            // Toggle mobile menu
            mobileMenuButton.addEventListener('click', function (e) {
                e.preventDefault();
                e.stopPropagation();
                
                const isHidden = mobileMenu.classList.contains('hidden');
                
                if (isHidden) {
                    mobileMenu.classList.remove('hidden');
                    mobileMenuButton.setAttribute('aria-expanded', 'true');
                    // Change icon to X when menu is open
                    const icon = mobileMenuButton.querySelector('i');
                    if (icon) {
                        icon.className = 'fas fa-times text-xl';
                    }
                } else {
                    mobileMenu.classList.add('hidden');
                    mobileMenuButton.setAttribute('aria-expanded', 'false');
                    // Change icon back to hamburger when menu is closed
                    const icon = mobileMenuButton.querySelector('i');
                    if (icon) {
                        icon.className = 'fas fa-bars text-xl';
                    }
                }
            });

            // Close mobile menu when clicking outside
            document.addEventListener('click', function (e) {
                if (!mobileMenuButton.contains(e.target) && !mobileMenu.contains(e.target)) {
                    if (!mobileMenu.classList.contains('hidden')) {
                        mobileMenu.classList.add('hidden');
                        mobileMenuButton.setAttribute('aria-expanded', 'false');
                        // Reset icon
                        const icon = mobileMenuButton.querySelector('i');
                        if (icon) {
                            icon.className = 'fas fa-bars text-xl';
                        }
                    }
                }
            });

            // Close mobile menu on window resize to desktop
            window.addEventListener('resize', function () {
                if (window.innerWidth >= 1024) { // lg breakpoint
                    mobileMenu.classList.add('hidden');
                    mobileMenuButton.setAttribute('aria-expanded', 'false');
                    // Reset icon
                    const icon = mobileMenuButton.querySelector('i');
                    if (icon) {
                        icon.className = 'fas fa-bars text-xl';
                    }
                }
            });
        });

        // Close mobile menu on scroll
        let lastScrollTop = 0;
        window.addEventListener('scroll', function () {
            const currentScrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileMenuButton = document.getElementById('mobile-menu-button');

            // Close mobile menu when scrolling (in any direction)
            if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.add('hidden');
                if (mobileMenuButton) {
                    mobileMenuButton.setAttribute('aria-expanded', 'false');
                    // Reset icon
                    const icon = mobileMenuButton.querySelector('i');
                    if (icon) {
                        icon.className = 'fas fa-bars text-xl';
                    }
                }
            }

            lastScrollTop = currentScrollTop;
        });

        // Navbar scroll behavior for mobile
        (function() {
            let lastScrollTop = 0;
            const navbar = document.getElementById('navbar');
            const scrollThreshold = 50; // Minimum scroll distance to trigger hide/show
            
            if (!navbar) return;

            function handleScroll() {
                const currentScrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                // Only apply on mobile devices
                if (window.innerWidth <= 1023) {
                    if (currentScrollTop > lastScrollTop && currentScrollTop > scrollThreshold) {
                        // Scrolling down - hide navbar
                        navbar.classList.remove('navbar-visible');
                        navbar.classList.add('navbar-hidden');
                    } else if (currentScrollTop < lastScrollTop) {
                        // Scrolling up - show navbar
                        navbar.classList.remove('navbar-hidden');
                        navbar.classList.add('navbar-visible');
                    }
                } else {
                    // On desktop, always show navbar
                    navbar.classList.remove('navbar-hidden', 'navbar-visible');
                }
                
                lastScrollTop = currentScrollTop;
            }

            // Add scroll event listener
            window.addEventListener('scroll', handleScroll, { passive: true });
            
            // Initialize navbar state
            navbar.classList.add('navbar-visible');
        })();

        // Language & currency handling
        (function() {
            // Desktop dropdowns
            const langDropdownBtn = document.getElementById('langDropdownBtn');
            const currencyDropdownBtn = document.getElementById('currencyDropdownBtn');
            const currentLang = document.getElementById('currentLang');
            const currentCurrency = document.getElementById('currentCurrency');
            
            // Mobile dropdowns
            const mobileLangDropdownBtn = document.getElementById('mobileLangDropdownBtn');
            const mobileCurrencyDropdownBtn = document.getElementById('mobileCurrencyDropdownBtn');
            const mobileCurrentLang = document.getElementById('mobileCurrentLang');
            const mobileCurrentCurrency = document.getElementById('mobileCurrentCurrency');
            
            // Mobile dropdown content
            const mobileLangDropdown = document.getElementById('mobileLangDropdown');
            const mobileCurrencyDropdown = document.getElementById('mobileCurrencyDropdown');
            

            if (!langDropdownBtn || !currencyDropdownBtn || !mobileLangDropdownBtn || !mobileCurrencyDropdownBtn) return;

            // Set default language to English if not set
            if (!localStorage.getItem('site_lang')) {
                localStorage.setItem('site_lang', 'en');
            }
            const storedLang = localStorage.getItem('site_lang') || 'en';
            
            // Force EUR as default if no currency is set or if MAD is stored
            if (!localStorage.getItem('site_currency') || localStorage.getItem('site_currency') === 'mad') {
                localStorage.setItem('site_currency', 'eur');
            }
            const storedCurrency = localStorage.getItem('site_currency');

            // Language mapping
            const langNames = {
                fr: 'Fran√ßais',
                en: 'English',
                es: 'Espa√±ol'
            };

            // Currency mapping
            const currencyNames = {
                mad: 'MAD',
                eur: 'EUR',
                usd: 'USD',
                cad: 'CAD',
                gbp: 'GBP'
            };

            // Initialize displays
            currentLang.textContent = storedLang.toUpperCase();
            currentCurrency.textContent = storedCurrency.toUpperCase();
            mobileCurrentLang.textContent = langNames[storedLang];
            mobileCurrentCurrency.textContent = storedCurrency.toUpperCase();
            
            
            document.documentElement.lang = storedLang;

            const i18n = {
                fr: {
                    'labels.languages': 'Langues:',
                    'labels.currency': 'Devise:',
                    'nav.home': 'Accueil',
                    'nav.services': 'Services',
                    'nav.reviews': 'Avis',
                    'nav.booking': 'R√©servation',
                    'nav.contact': 'Contact',
                    'cta.book': 'R√©server',
                    'cta.book_now': 'R√©server maintenant',
                    'excursion.price_label': 'Prix de l\'excursion',
                    'excursion.all_fees_included': 'Tous frais inclus',
                    'excursion.highlights_title': 'Points forts de cette excursion',
                    'excursion.itinerary_title': 'Itin√©raire d√©taill√©',
                    'excursion.included_title': 'Ce qui est inclus',
                    'excursion.included_label': '‚úÖ Inclus dans le prix',
                    'excursion.not_included_label': '‚ùå Non inclus',
                    'excursion.quick_info': 'Informations rapides',
                    'excursion.group_label': 'Groupe',
                    'excursion.difficulty_label': 'Niveau',
                    'excursion.transport_label': 'Transport',
                    'excursion.guide_label': 'Guide',
                    'excursion.book_now_pay_later': 'üîò R√©server maintenant et payer apr√®s',
                    'excursion.book_excursion': 'R√©server cette excursion',
                    'excursion.form_description': 'Remplissez le formulaire ci-dessous pour r√©server votre place',
                    'excursion.date_label': 'Date souhait√©e *',
                    'excursion.time_label': 'Heure de d√©part',
                    'excursion.select_time': 'S√©lectionner une heure',
                    'excursion.unique_time': 'Une heure unique √† partir de 5h00',
                    'excursion.time_note': '(L\'heure exacte sera communiqu√©e apr√®s la r√©servation.)',
                    'excursion.duration_label': 'Dur√©e de la visite *',
                    'excursion.select_option': 'S√©lectionnez une option',
                    'excursion.half_day': '¬Ω journ√©e',
                    'excursion.full_day': 'Journ√©e compl√®te',
                    'excursion.people_label': 'Nombre de personnes *',
                    'excursion.max_people': 'Maximum 4 personnes par groupe',
                    'excursion.group_number_label': 'Nombre de groupe',
                    'excursion.group_number_note': 'Optionnel - Nombre pour identifier votre groupe',
                    'excursion.email_label': 'Email *',
                    'excursion.email_placeholder': 'votre@email.com',
                    'excursion.phone_label': 'T√©l√©phone *',
                    'excursion.phone_placeholder': 'Votre num√©ro',
                    'excursion.first_name_label': 'Pr√©nom *',
                    'excursion.first_name_placeholder': 'Votre pr√©nom',
                    'excursion.last_name_label': 'Nom *',
                    'excursion.last_name_placeholder': 'Votre nom',
                    'excursion.special_requests_label': 'Demandes sp√©ciales (optionnel)',
                    'excursion.special_requests_placeholder': 'Allergies alimentaires, accessibilit√©, pr√©f√©rences particuli√®res...',
                    'excursion.add_transport': 'Rajouter un transport',
                    'excursion.van_count_label': 'Nombre de Van',
                    'excursion.van_note': 'Transport optionnel vers Chez Ali',
                    'excursion.submit_booking': 'Envoyer ma demande de r√©servation'
                },
                en: {
                    'labels.languages': 'Languages:',
                    'labels.currency': 'Currency:',
                    'nav.home': 'Home',
                    'nav.services': 'Services',
                    'nav.reviews': 'Reviews',
                    'nav.booking': 'Booking',
                    'nav.contact': 'Contact',
                    'cta.book': 'Book',
                    'cta.book_now': 'Book now',
                    'excursion.price_label': 'Excursion Price',
                    'excursion.all_fees_included': 'All fees included',
                    'excursion.highlights_title': 'Highlights of this excursion',
                    'excursion.itinerary_title': 'Detailed itinerary',
                    'excursion.included_title': 'What\'s included',
                    'excursion.included_label': '‚úÖ Included in price',
                    'excursion.not_included_label': '‚ùå Not included',
                    'excursion.quick_info': 'Quick information',
                    'excursion.group_label': 'Group',
                    'excursion.difficulty_label': 'Difficulty',
                    'excursion.transport_label': 'Transport',
                    'excursion.guide_label': 'Guide',
                    'excursion.book_now_pay_later': 'üîò Book now and pay later',
                    'excursion.book_excursion': 'Book this excursion',
                    'excursion.form_description': 'Fill out the form below to reserve your spot',
                    'excursion.date_label': 'Desired date *',
                    'excursion.time_label': 'Departure time',
                    'excursion.select_time': 'Select a time',
                    'excursion.unique_time': 'A single time starting from 5:00 AM',
                    'excursion.time_note': '(The exact time will be communicated after booking.)',
                    'excursion.duration_label': 'Visit duration *',
                    'excursion.select_option': 'Select an option',
                    'excursion.half_day': '¬Ω day',
                    'excursion.full_day': 'Full day',
                    'excursion.people_label': 'Number of people *',
                    'excursion.max_people': 'Maximum 4 people per group',
                    'excursion.group_number_label': 'Group number',
                    'excursion.group_number_note': 'Optional - Number to identify your group',
                    'excursion.email_label': 'Email *',
                    'excursion.email_placeholder': 'your@email.com',
                    'excursion.phone_label': 'Phone *',
                    'excursion.phone_placeholder': 'Your number',
                    'excursion.first_name_label': 'First name *',
                    'excursion.first_name_placeholder': 'Your first name',
                    'excursion.last_name_label': 'Last name *',
                    'excursion.last_name_placeholder': 'Your last name',
                    'excursion.special_requests_label': 'Special requests (optional)',
                    'excursion.special_requests_placeholder': 'Food allergies, accessibility, special preferences...',
                    'excursion.add_transport': 'Add transportation',
                    'excursion.van_count_label': 'Number of Vans',
                    'excursion.van_note': 'Optional transportation to Chez Ali',
                    'excursion.submit_booking': 'Send my booking request'
                },
                es: {
                    'labels.languages': 'Idiomas:',
                    'labels.currency': 'Moneda:',
                    'nav.home': 'Inicio',
                    'nav.services': 'Servicios',
                    'nav.reviews': 'Rese√±as',
                    'nav.booking': 'Reserva',
                    'nav.contact': 'Contacto',
                    'cta.book': 'Reservar',
                    'cta.book_now': 'Reservar ahora',
                    'excursion.price_label': 'Precio de la excursi√≥n',
                    'excursion.all_fees_included': 'Todos los gastos incluidos',
                    'excursion.highlights_title': 'Puntos destacados de esta excursi√≥n',
                    'excursion.itinerary_title': 'Itinerario detallado',
                    'excursion.included_title': 'Lo que est√° incluido',
                    'excursion.included_label': '‚úÖ Incluido en el precio',
                    'excursion.not_included_label': '‚ùå No incluido',
                    'excursion.quick_info': 'Informaci√≥n r√°pida',
                    'excursion.group_label': 'Grupo',
                    'excursion.difficulty_label': 'Nivel',
                    'excursion.transport_label': 'Transporte',
                    'excursion.guide_label': 'Gu√≠a',
                    'excursion.book_now_pay_later': 'üîò Reservar ahora y pagar despu√©s',
                    'excursion.book_excursion': 'Reservar esta excursi√≥n',
                    'excursion.form_description': 'Complete el formulario a continuaci√≥n para reservar su lugar',
                    'excursion.date_label': 'Fecha deseada *',
                    'excursion.time_label': 'Hora de salida',
                    'excursion.select_time': 'Seleccionar una hora',
                    'excursion.unique_time': 'Una hora √∫nica a partir de las 5:00',
                    'excursion.time_note': '(La hora exacta se comunicar√° despu√©s de la reserva.)',
                    'excursion.duration_label': 'Duraci√≥n de la visita *',
                    'excursion.select_option': 'Seleccione una opci√≥n',
                    'excursion.half_day': '¬Ω d√≠a',
                    'excursion.full_day': 'D√≠a completo',
                    'excursion.people_label': 'N√∫mero de personas *',
                    'excursion.max_people': 'M√°ximo 4 personas por grupo',
                    'excursion.group_number_label': 'N√∫mero de grupo',
                    'excursion.group_number_note': 'Opcional - N√∫mero para identificar su grupo',
                    'excursion.email_label': 'Correo electr√≥nico *',
                    'excursion.email_placeholder': 'tu@email.com',
                    'excursion.phone_label': 'Tel√©fono *',
                    'excursion.phone_placeholder': 'Su n√∫mero',
                    'excursion.first_name_label': 'Nombre *',
                    'excursion.first_name_placeholder': 'Su nombre',
                    'excursion.last_name_label': 'Apellido *',
                    'excursion.last_name_placeholder': 'Su apellido',
                    'excursion.special_requests_label': 'Solicitudes especiales (opcional)',
                    'excursion.special_requests_placeholder': 'Alergias alimentarias, accesibilidad, preferencias especiales...',
                    'excursion.add_transport': 'A√±adir transporte',
                    'excursion.van_count_label': 'N√∫mero de furgonetas',
                    'excursion.van_note': 'Transporte opcional hacia Chez Ali',
                    'excursion.submit_booking': 'Enviar mi solicitud de reserva'
                }
            };

            function applyTranslations(lang) {
                const dict = i18n[lang] || i18n.en;
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.getAttribute('data-i18n');
                    if (dict[key]) {
                        if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                            // Only update placeholder, never overwrite user input values
                            // Only update value for button/submit inputs (which don't have user input)
                            const inputType = el.type || '';
                            if (el.hasAttribute('data-i18n-placeholder')) {
                                el.placeholder = dict[key];
                            } else if (inputType === 'button' || inputType === 'submit' || inputType === 'reset') {
                                // Only update value for button types, not text inputs
                                el.value = dict[key];
                            }
                            // Skip value update for text inputs to preserve user input
                        } else if (el.tagName === 'OPTION') {
                            el.textContent = dict[key];
                        } else {
                            el.textContent = dict[key];
                        }
                    }
                });
                
                // Handle placeholder attributes separately
                document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
                    const key = el.getAttribute('data-i18n-placeholder');
                    if (dict[key]) {
                        el.placeholder = dict[key];
                    }
                });
            }

            function syncLang(value) {
                // Update desktop display
                currentLang.textContent = value.toUpperCase();
                
                // Update mobile display
                mobileCurrentLang.textContent = langNames[value];
                
                
                // Update checkmarks
                document.querySelectorAll('[data-lang-check]').forEach(el => {
                    el.style.opacity = el.getAttribute('data-lang-check') === value ? '1' : '0';
                });
                document.querySelectorAll('[data-mobile-lang-check]').forEach(el => {
                    el.style.opacity = el.getAttribute('data-mobile-lang-check') === value ? '1' : '0';
                });
                
                localStorage.setItem('site_lang', value);
                document.documentElement.lang = value;
                applyTranslations(value);
                
                // Reload excursion details if on excursion page
                if (typeof loadExcursionDetails === 'function') {
                    loadExcursionDetails();
                }
            }

            window.formatCurrency = function(amountEur, code) {
                const rates = {
                    mad: 10,
                    eur: 1,
                    usd: 1.09,
                    cad: 1.48,
                    gbp: 0.85
                };
                const symbols = { mad: 'MAD', eur: '‚Ç¨', usd: '$', cad: 'C$', gbp: '¬£' };
                const rate = rates[code] || 1;
                const converted = amountEur * rate;
                if (code === 'mad') return `${Math.round(converted)} ${symbols.mad}`;
                // Format without decimals for whole numbers
                if (converted % 1 === 0) {
                    return `${Math.round(converted)} ${symbols[code] || ''}`.trim();
                }
                return `${converted.toFixed(2)} ${symbols[code] || ''}`.trim();
            }

            window.parsePriceString = function(rawPrice) {
                if (!rawPrice || typeof rawPrice !== 'string') {
                    return null;
                }
                const match = rawPrice.match(/^(.*?)(\d+(?:[.,]\d+)?)(?:\s?(?:‚Ç¨|eur|usd|cad|gbp|mad))?(.*)$/i);
                if (!match) {
                    return null;
                }
                const value = parseFloat(match[2].replace(',', '.'));
                if (Number.isNaN(value)) {
                    return null;
                }
                return {
                    prefix: match[1] || '',
                    value,
                    suffix: match[3] || ''
                };
            }

            function applyPriceToElement(el, rawPrice, currency, role) {
                if (!el) return null;
                if (role) {
                    el.setAttribute('data-price-role', role);
                }
                if (rawPrice !== undefined) {
                    el.setAttribute('data-price-original', rawPrice);
                }

                const parsed = parsePriceString(rawPrice);
                if (!parsed) {
                    el.removeAttribute('data-price-eur');
                    el.removeAttribute('data-price-prefix');
                    el.removeAttribute('data-price-suffix');
                    if (rawPrice !== undefined) {
                        el.textContent = rawPrice || '';
                    }
                    return null;
                }

                el.setAttribute('data-price-eur', parsed.value);
                el.setAttribute('data-price-prefix', parsed.prefix || '');
                el.setAttribute('data-price-suffix', parsed.suffix || '');

                const formatted = formatCurrency(parsed.value, currency);
                el.textContent = `${parsed.prefix || ''}${formatted}${parsed.suffix || ''}`;
                return parsed;
            }
            window.applyPriceToElement = applyPriceToElement;

            function syncBookingPriceInput() {
                const priceInput = document.getElementById('excursion-price-value');
                if (!priceInput) return;

                const durationSelect = document.getElementById('duration-option');
                if (durationSelect && !durationSelect.classList.contains('hidden')) {
                    const selection = durationSelect.value;
                    if (selection === 'half-day') {
                        const halfSpan = document.querySelector('[data-price-role="half-day"]');
                        if (halfSpan) {
                            priceInput.value = halfSpan.textContent;
                            return;
                        }
                    } else if (selection === 'full-day') {
                        const fullSpan = document.querySelector('[data-price-role="full-day"]');
                        if (fullSpan) {
                            priceInput.value = fullSpan.textContent;
                            return;
                        }
                    }
                }

                const displayEl = document.querySelector('[data-price-role="display"]');
                if (displayEl) {
                    priceInput.value = displayEl.textContent;
                    return;
                }

                const primaryEl = document.querySelector('[data-price-role="primary"]');
                if (primaryEl) {
                    priceInput.value = primaryEl.textContent;
                    return;
                }

                const badgeEl = document.getElementById('excursion-price');
                if (badgeEl) {
                    priceInput.value = badgeEl.textContent;
                }
            }
            window.syncBookingPriceInput = syncBookingPriceInput;

            function updatePrices(code) {
                const storedLang = localStorage.getItem('site_lang') || 'en';
                const dict = i18n[storedLang] || i18n.fr;
                const perPersonFallback = dict?.['price.per_person'] || 'par personne';

                document.querySelectorAll('[data-price-eur]').forEach(el => {
                    const base = parseFloat(el.getAttribute('data-price-eur'));
                    if (Number.isNaN(base)) return;

                    const prefix = el.getAttribute('data-price-prefix') || '';
                    let suffix = el.getAttribute('data-price-suffix');
                    if (suffix === null) {
                        suffix = '';
                    }

                    if (!suffix && el.getAttribute('data-per-person') === 'true') {
                        suffix = ` ${perPersonFallback}`;
                    }

                    const formatted = formatCurrency(base, code);
                    el.textContent = `${prefix}${formatted}${suffix}`;
                });

                syncBookingPriceInput();
            }

            function syncCurrency(value) {
                // Update desktop display
                currentCurrency.textContent = value.toUpperCase();
                
                // Update mobile display
                mobileCurrentCurrency.textContent = value.toUpperCase();
                
                
                // Update checkmarks
                document.querySelectorAll('[data-currency-check]').forEach(el => {
                    el.style.opacity = el.getAttribute('data-currency-check') === value ? '1' : '0';
                });
                document.querySelectorAll('[data-mobile-currency-check]').forEach(el => {
                    el.style.opacity = el.getAttribute('data-mobile-currency-check') === value ? '1' : '0';
                });
                
                localStorage.setItem('site_currency', value);
                updatePrices(value);
            }

            // Desktop dropdown event listeners
            document.querySelectorAll('[data-lang]').forEach(el => {
                el.addEventListener('click', e => {
                    e.preventDefault();
                    syncLang(e.currentTarget.getAttribute('data-lang'));
                });
            });

            document.querySelectorAll('[data-currency]').forEach(el => {
                el.addEventListener('click', e => {
                    e.preventDefault();
                    syncCurrency(e.currentTarget.getAttribute('data-currency'));
                });
            });

            // Mobile dropdown toggle functionality
            mobileLangDropdownBtn.addEventListener('click', function() {
                mobileLangDropdown.classList.toggle('hidden');
                this.querySelector('.fa-chevron-down').classList.toggle('rotate-180');
            });

            mobileCurrencyDropdownBtn.addEventListener('click', function() {
                mobileCurrencyDropdown.classList.toggle('hidden');
                this.querySelector('.fa-chevron-down').classList.toggle('rotate-180');
            });

            // Mobile dropdown event listeners
            document.querySelectorAll('[data-lang]').forEach(el => {
                el.addEventListener('click', e => {
                    e.preventDefault();
                    syncLang(e.currentTarget.getAttribute('data-lang'));
                    // Close mobile dropdown
                    mobileLangDropdown.classList.add('hidden');
                    mobileLangDropdownBtn.querySelector('.fa-chevron-down').classList.remove('rotate-180');
                });
            });

            document.querySelectorAll('[data-currency]').forEach(el => {
                el.addEventListener('click', e => {
                    e.preventDefault();
                    syncCurrency(e.currentTarget.getAttribute('data-currency'));
                    // Close mobile dropdown
                    mobileCurrencyDropdown.classList.add('hidden');
                    mobileCurrencyDropdownBtn.querySelector('.fa-chevron-down').classList.remove('rotate-180');
                });
            });

            
            // Initial run
            syncCurrency(storedCurrency);
            updatePrices(storedCurrency);
            applyTranslations(storedLang);
        })();

        // Helper function to merge shared and translations data
        function mergeExcursionData(shared, langData) {
            // Create a completely new object
            const merged = {};
            
            // Copy all properties from shared (if it exists and is an object)
            if (shared && typeof shared === 'object' && !Array.isArray(shared)) {
                const sharedKeys = Object.keys(shared);
                sharedKeys.forEach(key => {
                    if (key !== 'shared' && key !== 'translations') {
                        // Deep copy arrays and objects to avoid reference issues
                        if (Array.isArray(shared[key])) {
                            merged[key] = [...shared[key]];
                        } else if (typeof shared[key] === 'object' && shared[key] !== null) {
                            merged[key] = { ...shared[key] };
                        } else {
                            merged[key] = shared[key];
                        }
                    }
                });
            }
            
            // Copy all properties from langData (overrides shared)
            if (langData && typeof langData === 'object' && !Array.isArray(langData)) {
                const langDataKeys = Object.keys(langData);
                langDataKeys.forEach(key => {
                    if (key !== 'shared' && key !== 'translations') {
                        // Deep copy arrays and objects to avoid reference issues
                        if (Array.isArray(langData[key])) {
                            merged[key] = [...langData[key]];
                        } else if (typeof langData[key] === 'object' && langData[key] !== null) {
                            merged[key] = { ...langData[key] };
                        } else {
                            merged[key] = langData[key];
                        }
                    }
                });
            }
            
            // Ensure shared/translations are never in the result
            delete merged.shared;
            delete merged.translations;
            
            // Debug: log if merged is empty
            if (Object.keys(merged).length === 0) {
                console.error('mergeExcursionData: Result is empty!');
                console.error('shared:', shared);
                console.error('langData:', langData);
                console.error('shared keys:', shared ? Object.keys(shared) : 'null');
                console.error('langData keys:', langData ? Object.keys(langData) : 'null');
            }
            
            return merged;
        }

        // Helper function to get excursion data with language support
        function getExcursionData(excursionId, lang = 'fr') {
            const excursion = excursionsData[excursionId];
            if (!excursion) {
                console.warn('Excursion not found in excursionsData:', excursionId);
                return null;
            }
            
            // NEVER return the raw structure - always merge
            // Even if it looks merged, if it has shared/translations, it's not merged
            if (excursion.shared || excursion.translations) {
                // Has raw structure, need to merge
                if (!excursion.translations) {
                    console.warn('Excursion has no translations:', excursionId);
                    return null;
                }
                
                // Get language data, fallback to French if requested language not available
                const langData = excursion.translations[lang] || excursion.translations.fr || excursion.translations['fr'];
                
                if (!langData) {
                    console.warn('No language data found for:', excursionId, lang);
                    return null;
                }
                
                // Use mergeExcursionData function
                return mergeExcursionData(excursion.shared, langData);
            } else {
                // No shared/translations, assume it's already merged
                return excursion;
            }
        }

        // Excursion data - Multilingual support
        const excursionsData = {
            ouzoud: {
                shared: {
                    image: "assets/ouzod.jpeg",
                    images: [
                        "assets/ouzod.jpeg",
                        "assets/ouzoud/1.jpeg",
                        "assets/ouzoud/2.jpeg",
                        "assets/ouzoud/3.jpeg",
                        "assets/ouzoud/4.jpeg",
                        "assets/ouzoud/5.jpeg",
                        "assets/ouzoud/6.jpeg",
                        "assets/ouzoud/7.jpeg",
                        "assets/ouzoud/WhatsApp Image 2025-11-18 at 23.51.11 (1).jpeg",
                        "assets/ouzoud/WhatsApp Image 2025-11-18 at 23.51.11 (2).jpeg",
                        "assets/ouzoud/WhatsApp Image 2025-11-18 at 23.51.11 (3).jpeg",
                        "assets/ouzoud/WhatsApp Image 2025-11-18 at 23.51.11 (4).jpeg",
                        "assets/ouzoud/WhatsApp Image 2025-11-18 at 23.51.11.jpeg",
                        "assets/ouzoud/WhatsApp Image 2025-11-18 at 23.51.12 (1).jpeg",
                        "assets/ouzoud/WhatsApp Image 2025-11-18 at 23.51.12 (2).jpeg",
                        "assets/ouzoud/WhatsApp Image 2025-11-18 at 23.51.12 (3).jpeg",
                        "assets/ouzoud/WhatsApp Image 2025-11-18 at 23.51.12.jpeg"
                    ]
                },
                translations: {
                    fr: {
                        title: "Excursion d'une journ√©e aux cascades d'Ouzoud - d√©part de Marrakech",
                        description: "Offrez-vous une escapade rafra√Æchissante aux magnifiques cascades d'Ouzoud, √† environ 2h30 de route de Marrakech. En van priv√© confortable, partez √† la d√©couverte de l'une des plus belles merveilles naturelles du Maroc, entour√©e d'oliveraies et habit√©e par des singes en libert√©.",
                        duration: "10 heures",
                        price: "180 ‚Ç¨ pour un groupe de 1-4 Personnes",
                        groupSize: "1-4 personnes",
                        difficulty: "Facile",
                        transport: "Van priv√© climatis√©",
                        guide: "Chauffeur priv√©",
                        highlights: [
                            "Cascades spectaculaires d'Ouzoud",
                            "Balade dans les oliveraies",
                            "Observation des singes en libert√©",
                            "Possibilit√© de balade en barque",
                            "D√©jeuner au pied des chutes"
                        ],
                        itinerary: [
                            "D√©part de Marrakech √† 8h00",
                            "Trajet vers Ouzoud (2h30)",
                            "Arriv√©e et d√©couverte des cascades",
                            "Balade libre dans les environs",
                            "D√©jeuner traditionnel",
                            "Retour √† Marrakech en fin d'apr√®s-midi"
                        ],
                        included: [
                            "Prise en charge a domicile",
                            "Transport Allez-retour en van priv√© moderne et climatis√© ",
                            "Chauffeur professionnel ",
                            "Bouteille d'eau"
                        ],
                        notIncluded: [
                            "Pourboires",
                            "Repas",
                            "D√©penses personnelles",
                            "Activit√©s sur place",
                        ]
                    },
                    en: {
                        title: "Day trip to Ouzoud Waterfalls - Departure from Marrakech",
                        description: "Enjoy a refreshing escape to the magnificent Ouzoud waterfalls, about 2h30 drive from Marrakech. In a comfortable private van, discover one of Morocco's most beautiful natural wonders, surrounded by olive groves and inhabited by free-roaming monkeys.",
                        duration: "10 hours",
                        price: "180 ‚Ç¨ for a group of 1-4 People",
                        groupSize: "1-4 people",
                        difficulty: "Easy",
                        transport: "Air-conditioned private van",
                        guide: "Private driver",
                        highlights: [
                            "Spectacular Ouzoud waterfalls",
                            "Walk through olive groves",
                            "Observe free-roaming monkeys",
                            "Optional boat ride",
                            "Lunch at the foot of the falls"
                        ],
                        itinerary: [
                            "Departure from Marrakech at 8:00 AM",
                            "Journey to Ouzoud (2h30)",
                            "Arrival and discovery of the waterfalls",
                            "Free walk in the surroundings",
                            "Traditional lunch",
                            "Return to Marrakech in the late afternoon"
                        ],
                        included: [
                            "Pick-up at home",
                            "Round trip transport in modern air-conditioned private van",
                            "Professional driver",
                            "Bottle of water"
                        ],
                        notIncluded: [
                            "Tips",
                            "Meals",
                            "Personal expenses",
                            "On-site activities",
                        ]
                    },
                    es: {
                        title: "Excursi√≥n de un d√≠a a las cascadas de Ouzoud - Salida desde Marrakech",
                        description: "Disfrute de una escapada refrescante a las magn√≠ficas cascadas de Ouzoud, a aproximadamente 2h30 de camino de Marrakech. En una furgoneta privada c√≥moda, descubra una de las maravillas naturales m√°s hermosas de Marruecos, rodeada de olivares y habitada por monos en libertad.",
                        duration: "10 horas",
                        price: "180 ‚Ç¨ para un grupo de 1-4 Personas",
                        groupSize: "1-4 personas",
                        difficulty: "F√°cil",
                        transport: "Furgoneta privada con aire acondicionado",
                        guide: "Conductor privado",
                        highlights: [
                            "Cascadas espectaculares de Ouzoud",
                            "Paseo por los olivares",
                            "Observaci√≥n de monos en libertad",
                            "Posibilidad de paseo en barco",
                            "Almuerzo al pie de las cataratas"
                        ],
                        itinerary: [
                            "Salida de Marrakech a las 8:00",
                            "Viaje a Ouzoud (2h30)",
                            "Llegada y descubrimiento de las cascadas",
                            "Paseo libre por los alrededores",
                            "Almuerzo tradicional",
                            "Regreso a Marrakech al final de la tarde"
                        ],
                        included: [
                            "Recogida en casa",
                            "Transporte de ida y vuelta en furgoneta privada moderna y con aire acondicionado",
                            "Conductor profesional",
                            "Botella de agua"
                        ],
                        notIncluded: [
                            "Propinas",
                            "Comidas",
                            "Gastos personales",
                            "Actividades en el lugar",
                        ]
                    }
                }
            },
            merzouga: {
                shared: {
                    image: "assets/merzouga/maroc-merzouga.jpg",
                    images: [
                        "assets/merzouga/maroc-merzouga.jpg",
                        "assets/merzouga/13_6399d3af3eb59s_0.jpg",
                        "assets/merzouga/81.jpg",
                        "assets/merzouga/Merzouga-Sahara-Desert-Morocco-3-768x512-1.jpg",
                        "assets/merzouga/OIP.webp"
                    ]
                },
                translations: {
                    fr: {
                        title: "Voyages de 3 jours au d√©sert de Merzouga ‚Äì D√©part de Marrakech",
                        description: "Vivez une aventure inoubliable dans le d√©sert du Sahara avec notre circuit priv√© de 3 jours / 2 nuits vers Merzouga. Ce voyage √† travers les montagnes de l'Atlas, les kasbahs historiques et les oasis verdoyantes vous m√®nera jusqu'aux majestueuses dunes de l'Erg Chebbi.",
                        duration: "3 jours / 2 nuits",
                        price: "200‚Ç¨ par personne",
                        groupSize: "",
                        difficulty: "Mod√©r√©",
                        transport: "4x4 priv√© climatis√©",
                        guide: "Guide local + chauffeur",
                        highlights: [
                            "Travers√©e du Haut Atlas",
                            "Visite de la kasbah d'A√Øt Ben Haddou",
                            "Vall√©e du Dad√®s et Todgha",
                            "Nuit en bivouac dans le d√©sert",
                            "Balade √† dos de chameau",
                            "Sandboard sur les dunes"
                        ],
                        itinerary: [
                            "Jour 1: Marrakech ‚Üí Haut Atlas ‚Üí A√Øt Ben Haddou ‚Üí Vall√©e du Dad√®s",
                            "Jour 2: Dad√®s ‚Üí Todgha ‚Üí Merzouga ‚Üí Nuit en bivouac",
                            "Jour 3: Merzouga ‚Üí Vall√©e du Dr√¢a ‚Üí Ouarzazate ‚Üí Marrakech"
                        ],
                        included: [
                            "Transport priv√© climatis√©",
                            "2 nuits d'h√©bergement",
                            "D√Æners et petits-d√©jeuners",
                            "Balade √† dos de chameau",
                            "Sandboard",
                            "Guide local"
                        ],
                        notIncluded: [
                            "D√©jeuners",
                            "Boissons",
                            "Visites guid√©es optionnelles",
                            "Pourboires"
                        ]
                    },
                    en: {
                        title: "3-day trip to Merzouga Desert ‚Äì Departure from Marrakech",
                        description: "Experience an unforgettable adventure in the Sahara Desert with our private 3-day / 2-night circuit to Merzouga. This journey through the Atlas Mountains, historic kasbahs and lush oases will take you to the majestic dunes of Erg Chebbi.",
                        duration: "3 days / 2 nights",
                        price: "200‚Ç¨ per person",
                        groupSize: "",
                        difficulty: "Moderate",
                        transport: "Air-conditioned private 4x4",
                        guide: "Local guide + driver",
                        highlights: [
                            "Crossing the High Atlas",
                            "Visit to A√Øt Ben Haddou kasbah",
                            "Dad√®s and Todgha valleys",
                            "Desert bivouac night",
                            "Camel ride",
                            "Sandboarding on the dunes"
                        ],
                        itinerary: [
                            "Day 1: Marrakech ‚Üí High Atlas ‚Üí A√Øt Ben Haddou ‚Üí Dad√®s Valley",
                            "Day 2: Dad√®s ‚Üí Todgha ‚Üí Merzouga ‚Üí Bivouac night",
                            "Day 3: Merzouga ‚Üí Dr√¢a Valley ‚Üí Ouarzazate ‚Üí Marrakech"
                        ],
                        included: [
                            "Air-conditioned private transport",
                            "2 nights accommodation",
                            "Dinners and breakfasts",
                            "Camel ride",
                            "Sandboarding",
                            "Local guide"
                        ],
                        notIncluded: [
                            "Lunches",
                            "Drinks",
                            "Optional guided tours",
                            "Tips"
                        ]
                    },
                    es: {
                        title: "Viaje de 3 d√≠as al desierto de Merzouga ‚Äì Salida desde Marrakech",
                        description: "Viva una aventura inolvidable en el desierto del Sahara con nuestro circuito privado de 3 d√≠as / 2 noches a Merzouga. Este viaje a trav√©s de las monta√±as del Atlas, las kasbahs hist√≥ricas y los oasis verdes lo llevar√° hasta las majestuosas dunas de Erg Chebbi.",
                        duration: "3 d√≠as / 2 noches",
                        price: "200‚Ç¨ por persona",
                        groupSize: "",
                        difficulty: "Moderado",
                        transport: "4x4 privado con aire acondicionado",
                        guide: "Gu√≠a local + conductor",
                        highlights: [
                            "Cruce del Alto Atlas",
                            "Visita a la kasbah de A√Øt Ben Haddou",
                            "Valles del Dad√®s y Todgha",
                            "Noche en bivac en el desierto",
                            "Paseo en camello",
                            "Sandboard en las dunas"
                        ],
                        itinerary: [
                            "D√≠a 1: Marrakech ‚Üí Alto Atlas ‚Üí A√Øt Ben Haddou ‚Üí Valle del Dad√®s",
                            "D√≠a 2: Dad√®s ‚Üí Todgha ‚Üí Merzouga ‚Üí Noche en bivac",
                            "D√≠a 3: Merzouga ‚Üí Valle del Dr√¢a ‚Üí Ouarzazate ‚Üí Marrakech"
                        ],
                        included: [
                            "Transporte privado con aire acondicionado",
                            "2 noches de alojamiento",
                            "Cenas y desayunos",
                            "Paseo en camello",
                            "Sandboard",
                            "Gu√≠a local"
                        ],
                        notIncluded: [
                            "Almuerzos",
                            "Bebidas",
                            "Visitas guiadas opcionales",
                            "Propinas"
                        ]
                    }
                }
            },
            essaouira: {
                shared: {
                    image: "assets/essaouira.jpeg",
                    images: [
                        "assets/essaouira.jpeg",
                        "assets/essaouira/essaouira-1953633_1280.jpg",
                        "assets/essaouira/Essaouira-5.jpg",
                        "assets/essaouira/fullsizeoutput_37f2.jpeg",
                        "assets/essaouira/IMG_9048.jpg",
                        "assets/essaouira/thumb_15718426_cover_header.jpg",
                        "assets/essaouira/wave-moulay-2.jpg",
                        "assets/essaouira/WhatsApp Image 2025-11-18 at 23.50.16.jpeg",
                        "assets/essaouira/WhatsApp Image 2025-11-18 at 23.50.26 (1).jpeg",
                        "assets/essaouira/WhatsApp Image 2025-11-18 at 23.50.26 (2).jpeg",
                        "assets/essaouira/WhatsApp Image 2025-11-18 at 23.50.26 (3).jpeg",
                        "assets/essaouira/WhatsApp Image 2025-11-18 at 23.50.26 (4).jpeg",
                        "assets/essaouira/WhatsApp Image 2025-11-18 at 23.50.26 (5).jpeg",
                        "assets/essaouira/WhatsApp Image 2025-11-18 at 23.50.26.jpeg",
                        "assets/essaouira/WhatsApp Image 2025-11-18 at 23.50.27 (1).jpeg",
                        "assets/essaouira/WhatsApp Image 2025-11-18 at 23.50.27 (2).jpeg",
                        "assets/essaouira/WhatsApp Image 2025-11-18 at 23.50.27 (3).jpeg",
                        "assets/essaouira/WhatsApp Image 2025-11-18 at 23.50.27.jpeg"
                    ]
                },
                translations: {
                    fr: {
                        title: "Excursion d'une journ√©e √† Essaouira ‚Äì D√©part de Marrakech",
                        description: "Une excursion priv√©e pleine de charme et de d√©tente √† Essaouira Mogador, la ville portuaire boh√®me bleue et blanche, c√©l√®bre pour sa vie culturelle dynamique, son port de p√™che traditionnel et sa m√©dina labyrinthique prot√©g√©e par des remparts du XVIIIe si√®cle en bord de mer.",
                        duration: "10 heures",
                        price: "150 ‚Ç¨ pour un groupe de 1-4 Personnes",
                        groupSize: "1-4 personnes",
                        difficulty: "Facile",
                        transport: "Van neuf climatis√©",
                        guide: "Chauffeur professionnel multilingue",
                        highlights: [
                            "Ville portuaire boh√®me bleue et blanche",
                            "Port de p√™che traditionnel",
                            "M√©dina labyrinthique class√©e",
                            "Remparts du XVIIIe si√®cle",
                            "Vie culturelle dynamique",
                            "Poisson frais et fruits de mer"
                        ],
                        itinerary: [
                            "D√©part de Marrakech √† 8h00",
                            "Trajet vers Essaouira (2h30)",
                            "Arriv√©e et visite de la m√©dina",
                            "D√©couverte du port de p√™che",
                            "D√©jeuner de poisson frais",
                            "Temps libre pour explorer",
                            "Retour √† Marrakech en fin de journ√©e"
                        ],
                        included: [
                            "Prise en charge et retour √† votre h√¥tel",
                            "Van neuf climatis√©",
                            "Chauffeur professionnel multilingue",
                            "D√©couverte du port de p√™che",
                            "Temps libre pour explorer"
                        ],
                        notIncluded: [
                            "Repas et boissons",
                            "Pourboires",
                            "D√©penses personnelles",
                            "Activit√©s optionnelles"
                        ]
                    },
                    en: {
                        title: "Day trip to Essaouira ‚Äì Departure from Marrakech",
                        description: "A private excursion full of charm and relaxation to Essaouira Mogador, the blue and white bohemian port city, famous for its vibrant cultural life, traditional fishing port and labyrinthine medina protected by 18th century ramparts by the sea.",
                        duration: "10 hours",
                        price: "150 ‚Ç¨ for a group of 1-4 People",
                        groupSize: "1-4 people",
                        difficulty: "Easy",
                        transport: "New air-conditioned van",
                        guide: "Multilingual professional driver",
                        highlights: [
                            "Blue and white bohemian port city",
                            "Traditional fishing port",
                            "Classified labyrinthine medina",
                            "18th century ramparts",
                            "Vibrant cultural life",
                            "Fresh fish and seafood"
                        ],
                        itinerary: [
                            "Departure from Marrakech at 8:00 AM",
                            "Journey to Essaouira (2h30)",
                            "Arrival and visit to the medina",
                            "Discovery of the fishing port",
                            "Fresh fish lunch",
                            "Free time to explore",
                            "Return to Marrakech in the evening"
                        ],
                        included: [
                            "Pick-up and return to your hotel",
                            "New air-conditioned van",
                            "Multilingual professional driver",
                            "Discovery of the fishing port",
                            "Free time to explore"
                        ],
                        notIncluded: [
                            "Meals and drinks",
                            "Tips",
                            "Personal expenses",
                            "Optional activities"
                        ]
                    },
                    es: {
                        title: "Excursi√≥n de un d√≠a a Essaouira ‚Äì Salida desde Marrakech",
                        description: "Una excursi√≥n privada llena de encanto y relajaci√≥n a Essaouira Mogador, la ciudad portuaria bohemia azul y blanca, famosa por su vida cultural din√°mica, su puerto pesquero tradicional y su medina laber√≠ntica protegida por murallas del siglo XVIII junto al mar.",
                        duration: "10 horas",
                        price: "150 ‚Ç¨ para un grupo de 1-4 Personas",
                        groupSize: "1-4 personas",
                        difficulty: "F√°cil",
                        transport: "Furgoneta nueva con aire acondicionado",
                        guide: "Conductor profesional multiling√ºe",
                        highlights: [
                            "Ciudad portuaria bohemia azul y blanca",
                            "Puerto pesquero tradicional",
                            "Medina laber√≠ntica clasificada",
                            "Murallas del siglo XVIII",
                            "Vida cultural din√°mica",
                            "Pescado fresco y mariscos"
                        ],
                        itinerary: [
                            "Salida de Marrakech a las 8:00",
                            "Viaje a Essaouira (2h30)",
                            "Llegada y visita a la medina",
                            "Descubrimiento del puerto pesquero",
                            "Almuerzo de pescado fresco",
                            "Tiempo libre para explorar",
                            "Regreso a Marrakech al final del d√≠a"
                        ],
                        included: [
                            "Recogida y regreso a su hotel",
                            "Furgoneta nueva con aire acondicionado",
                            "Conductor profesional multiling√ºe",
                            "Descubrimiento del puerto pesquero",
                            "Tiempo libre para explorar"
                        ],
                        notIncluded: [
                            "Comidas y bebidas",
                            "Propinas",
                            "Gastos personales",
                            "Actividades opcionales"
                        ]
                    }
                }
            },
            agafay: {
                shared: {
                    image: "assets/agafay.jpeg",
                    images: [
                        "assets/agafay.jpeg",
                        "assets/agafay/1.jpeg",
                        "assets/agafay/2.jpeg",
                        "assets/agafay/3.jpeg",
                        "assets/agafay/4.jpeg",
                        "assets/agafay/5.jpeg",
                        "assets/agafay/6.jpeg",
                        "assets/agafay/7.jpeg"
                    ]
                },
                translations: {
                    fr: {
                        title: "Excursion au d√©sert d'Agafay ‚Äì Quad, Balade a dos de chameau et Diner spectacle",
                        description: "Partez de Marrakech pour une aventure magique au d√©sert d'Agafay, √† seulement 45 minutes ! Vivez 1 heure de quad √† travers les collines dor√©es, puis 1 heure de balade √† dos de chameau au coucher du soleil, avec une vue imprenable sur les montagnes de l'Atlas. Laissez-vous s√©duire par le contraste unique entre le d√©sert aride et les sommets enneig√©s, avant de savourer un d√Æner traditionnel avec spectacle sous les √©toiles. Une exp√©rience inoubliable au c≈ìur d'Agafay.",
                        duration: "6 heures",
                        price: "95‚Ç¨ par personne",
                        groupSize: "1-4 personnes",
                        difficulty: "Aventure",
                        transport: "Van priv√© climatis√©",
                        guide: "Guide professionnel",
                        highlights: [
                            "Quad bike dans le d√©sert",
                            "Balade √† dos de chameau",
                            "D√Æner sous les √©toiles",
                            "Spectacle traditionnel",
                            "Coucher de soleil sur l'Atlas"
                        ],
                        itinerary: [
                            "D√©part de Marrakech √† 16h00",
                            "Arriv√©e au d√©sert d'Agafay",
                            "Session de quad bike (1h)",
                            "Balade √† dos de chameau (1h)",
                            "D√Æner et spectacle",
                            "Retour √† Marrakech vers 22h00"
                        ],
                        included: [
                            "Transport aller-retour",
                            "√âquipement quad bike",
                            "Balade √† dos de chameau",
                            "D√Æner traditionnel",
                            "Spectacle",
                            "Guide professionnel"
                        ],
                        notIncluded: [
                            "Boissons",
                            "Pourboires",
                            "Assurance quad bike",
                            "Photos souvenirs"
                        ]
                    },
                    en: {
                        title: "Agafay Desert Excursion ‚Äì Quad, Camel Ride and Dinner Show",
                        description: "Leave Marrakech for a magical adventure to the Agafay Desert, just 45 minutes away! Experience 1 hour of quad biking through golden hills, then 1 hour of camel riding at sunset, with an breathtaking view of the Atlas Mountains. Be seduced by the unique contrast between the arid desert and snow-capped peaks, before enjoying a traditional dinner with a show under the stars. An unforgettable experience in the heart of Agafay.",
                        duration: "6 hours",
                        price: "95‚Ç¨ per person",
                        groupSize: "1-4 people",
                        difficulty: "Adventure",
                        transport: "Air-conditioned private van",
                        guide: "Professional guide",
                        highlights: [
                            "Quad biking in the desert",
                            "Camel ride",
                            "Dinner under the stars",
                            "Traditional show",
                            "Sunset over the Atlas"
                        ],
                        itinerary: [
                            "Departure from Marrakech at 4:00 PM",
                            "Arrival at Agafay Desert",
                            "Quad bike session (1h)",
                            "Camel ride (1h)",
                            "Dinner and show",
                            "Return to Marrakech around 10:00 PM"
                        ],
                        included: [
                            "Round trip transport",
                            "Quad bike equipment",
                            "Camel ride",
                            "Traditional dinner",
                            "Show",
                            "Professional guide"
                        ],
                        notIncluded: [
                            "Drinks",
                            "Tips",
                            "Quad bike insurance",
                            "Souvenir photos"
                        ]
                    },
                    es: {
                        title: "Excursi√≥n al desierto de Agafay ‚Äì Quad, Paseo en camello y Cena espect√°culo",
                        description: "¬°Salga de Marrakech para una aventura m√°gica al desierto de Agafay, a solo 45 minutos! Viva 1 hora de quad por las colinas doradas, luego 1 hora de paseo en camello al atardecer, con una vista impresionante de las monta√±as del Atlas. D√©jese seducir por el contraste √∫nico entre el desierto √°rido y las cumbres nevadas, antes de disfrutar de una cena tradicional con espect√°culo bajo las estrellas. Una experiencia inolvidable en el coraz√≥n de Agafay.",
                        duration: "6 horas",
                        price: "95‚Ç¨ por persona",
                        groupSize: "1-4 personas",
                        difficulty: "Aventura",
                        transport: "Furgoneta privada con aire acondicionado",
                        guide: "Gu√≠a profesional",
                        highlights: [
                            "Quad en el desierto",
                            "Paseo en camello",
                            "Cena bajo las estrellas",
                            "Espect√°culo tradicional",
                            "Atardecer sobre el Atlas"
                        ],
                        itinerary: [
                            "Salida de Marrakech a las 16:00",
                            "Llegada al desierto de Agafay",
                            "Sesi√≥n de quad (1h)",
                            "Paseo en camello (1h)",
                            "Cena y espect√°culo",
                            "Regreso a Marrakech hacia las 22:00"
                        ],
                        included: [
                            "Transporte de ida y vuelta",
                            "Equipo de quad",
                            "Paseo en camello",
                            "Cena tradicional",
                            "Espect√°culo",
                            "Gu√≠a profesional"
                        ],
                        notIncluded: [
                            "Bebidas",
                            "Propinas",
                            "Seguro de quad",
                            "Fotos de recuerdo"
                        ]
                    }
                }
            },
            "ourika": {
                shared: {
                    image: "assets/ouriqa/a97dbd826e960aa0b0893d339cf87689-30780-morocco--from-marrakech--ourika-valley---atlas-mountains-day-tour-04.jpg",
                    images: [
                        "assets/ouriqa/a97dbd826e960aa0b0893d339cf87689-30780-morocco--from-marrakech--ourika-valley---atlas-mountains-day-tour-04.jpg",
                        "assets/ouriqa/food-3375436_1280.jpg",
                        "assets/ouriqa/WhatsApp Image 2025-10-31 at 01.13.57 (1).jpeg",
                        "assets/ouriqa/WhatsApp Image 2025-10-31 at 01.13.57.jpeg",
                        "assets/ouriqa/WhatsApp Image 2025-10-31 at 01.13.58 (1).jpeg",
                        "assets/ouriqa/WhatsApp Image 2025-10-31 at 01.13.58 (2).jpeg",
                        "assets/ouriqa/WhatsApp Image 2025-10-31 at 01.13.58.jpeg"
                    ]
                },
                translations: {
                    fr: {
                        title: "Excursion d'une journ√©e √† la vall√©e de L'Ourika ‚Äì d√©part de Marrakech",
                        description: "D√©couvrez la magnifique vall√©e de l'Ourika, situ√©e √† seulement 1h de Marrakech. Cette excursion vous emm√®ne au c≈ìur de l'Atlas marocain pour admirer des paysages verdoyants, des cascades naturelles et d√©couvrir l'authentique culture berb√®re dans des villages traditionnels.",
                        duration: "10 heures",
                        price: "95‚Ç¨ pour un groupe de 1-4 Personnes",
                        groupSize: "1-4 personnes",
                        difficulty: "Moyen",
                        transport: "Van priv√© climatis√©",
                        guide: "Chauffeur + Guide local",
                        highlights: [
                            "Paysages verdoyants de l'Atlas",
                            "Cascades naturelles spectaculaires",
                            "Villages berb√®res authentiques",
                            "Culture et traditions locales",
                            "Petit d√©jeuner chez l'habitant (avec un petit pourboire)",
                            "Vue panoramique sur les montagnes",
                            "Randonn√©e guid√©e"
                        ],
                        itinerary: [
                            "D√©part de Marrakech √† 8h00",
                            "Trajet vers la vall√©e de l'Ourika (1h)",
                            "Arriv√©e et visite des cascades",
                            "Randonn√©e guid√©e dans la vall√©e",
                            "D√©couverte des villages berb√®res",
                            "Petit d√©jeuner chez l'habitant (avec un petit pourboire)",
                            "Temps libre pour explorer",
                            "Retour √† Marrakech en fin d'apr√®s-midi"
                        ],
                        included: [
                            "Prise en charge et retour √† votre h√¥tel",
                            "Transport priv√© en van climatis√©",
                            "Chauffeur professionnel",
                            "Guide local",
                            "Visite des cascades",
                            "D√©couverte des villages berb√®res",
                            "Randonn√©e guid√©e",
                            "Petit d√©jeuner chez l'habitant (avec un petit pourboire)"
                        ],
                        notIncluded: [
                            "D√©jeuner",
                            "Boissons",
                            "Pourboires",
                            "D√©penses personnelles",
                            "Activit√©s optionnelles"
                        ]
                    },
                    en: {
                        title: "Day trip to the Ourika Valley ‚Äì Departure from Marrakech",
                        description: "Discover the magnificent Ourika Valley, located just 1 hour from Marrakech. This excursion takes you to the heart of the Moroccan Atlas to admire lush landscapes, natural waterfalls and discover authentic Berber culture in traditional villages.",
                        duration: "10 hours",
                        price: "95‚Ç¨ for a group of 1-4 People",
                        groupSize: "1-4 people",
                        difficulty: "Moderate",
                        transport: "Air-conditioned private van",
                        guide: "Driver + Local guide",
                        highlights: [
                            "Lush Atlas landscapes",
                            "Spectacular natural waterfalls",
                            "Authentic Berber villages",
                            "Local culture and traditions",
                            "Breakfast at local's home (with a small tip)",
                            "Panoramic mountain views",
                            "Guided hike"
                        ],
                        itinerary: [
                            "Departure from Marrakech at 8:00 AM",
                            "Journey to the Ourika Valley (1h)",
                            "Arrival and visit to the waterfalls",
                            "Guided hike in the valley",
                            "Discovery of Berber villages",
                            "Breakfast at local's home (with a small tip)",
                            "Free time to explore",
                            "Return to Marrakech in the late afternoon"
                        ],
                        included: [
                            "Pick-up and return to your hotel",
                            "Private transport in air-conditioned van",
                            "Professional driver",
                            "Local guide",
                            "Visit to the waterfalls",
                            "Discovery of Berber villages",
                            "Guided hike",
                            "Breakfast at local's home (with a small tip)"
                        ],
                        notIncluded: [
                            "Lunch",
                            "Drinks",
                            "Tips",
                            "Personal expenses",
                            "Optional activities"
                        ]
                    },
                    es: {
                        title: "Excursi√≥n de un d√≠a al valle de Ourika ‚Äì Salida desde Marrakech",
                        description: "Descubra el magn√≠fico valle de Ourika, ubicado a solo 1 hora de Marrakech. Esta excursi√≥n lo lleva al coraz√≥n del Atlas marroqu√≠ para admirar paisajes verdes, cascadas naturales y descubrir la aut√©ntica cultura bereber en pueblos tradicionales.",
                        duration: "10 horas",
                        price: "95‚Ç¨ para un grupo de 1-4 Personas",
                        groupSize: "1-4 personas",
                        difficulty: "Moderado",
                        transport: "Furgoneta privada con aire acondicionado",
                        guide: "Conductor + Gu√≠a local",
                        highlights: [
                            "Paisajes verdes del Atlas",
                            "Cascadas naturales espectaculares",
                            "Pueblos bereberes aut√©nticos",
                            "Cultura y tradiciones locales",
                            "Desayuno en casa del habitante (con una peque√±a propina)",
                            "Vista panor√°mica de las monta√±as",
                            "Senderismo guiado"
                        ],
                        itinerary: [
                            "Salida de Marrakech a las 8:00",
                            "Viaje al valle de Ourika (1h)",
                            "Llegada y visita a las cascadas",
                            "Senderismo guiado en el valle",
                            "Descubrimiento de pueblos bereberes",
                            "Desayuno en casa del habitante (con una peque√±a propina)",
                            "Tiempo libre para explorar",
                            "Regreso a Marrakech al final de la tarde"
                        ],
                        included: [
                            "Recogida y regreso a su hotel",
                            "Transporte privado en furgoneta con aire acondicionado",
                            "Conductor profesional",
                            "Gu√≠a local",
                            "Visita a las cascadas",
                            "Descubrimiento de pueblos bereberes",
                            "Senderismo guiado",
                            "Desayuno en casa del habitante (con una peque√±a propina)"
                        ],
                        notIncluded: [
                            "Almuerzo",
                            "Bebidas",
                            "Propinas",
                            "Gastos personales",
                            "Actividades opcionales"
                        ]
                    }
                }
            },
            "chez-ali-fantasia": {
                shared: {
                    image: "assets/chez-ali/Chez-ali-dinner-show.jpg",
                    images: [
                        "assets/chez-ali/Chez-ali-dinner-show.jpg",
                        "assets/chez-ali/Diner-et-Spectacle-Chez-Ali-a-Marrakech-Une-Soiree-Inoubliable.webp",
                        "assets/chez-ali/mechoui.jpg",
                        "assets/chez-ali/e6ca86_e8a09baa3e314c8d94dcb0b639134932.jpg",
                        "assets/chez-ali/b4.jpg",
                        "assets/chez-ali/48.jpg",
                        "assets/chez-ali/caption.jpg"
                    ]
                },
                translations: {
                    fr: {
                        title: "Diner Spectacle √† Chez Ali Fantaisie",
                        description: "Vivez une soir√©e inoubliable au restaurant-spectacle Chez Ali, l'un des lieux les plus embl√©matiques de Marrakech. Sous de grandes tentes berb√®res d√©cor√©es avec soin, plongez dans une atmosph√®re f√©erique o√π se m√™lent tradition, musique et l√©gendes marocaines.\n\nAu rythme des tambours et des chants folkloriques, savourez un d√Æner typiquement marocain compos√© de salades vari√©es, de m√©choui, de couscous parfum√©, de p√¢tisseries orientales et de th√© √† la menthe, servi dans une ambiance chaleureuse et conviviale.\n\nLa soir√©e se poursuit avec le c√©l√®bre spectacle Fantasia, un v√©ritable voyage dans le temps. Cavaliers, danseurs, acrobates et musiciens se succ√®dent pour offrir un spectacle grandiose, alliant chevauch√©es impressionnantes, tirs synchronis√©s et feux d'artifice. L'atmosph√®re devient alors magique et envo√ªtante.\n\nUne exp√©rience unique √† vivre en famille, en couple ou entre amis, pour d√©couvrir l'authenticit√© et la g√©n√©rosit√© du Maroc. Le d√©part est pr√©vu √† 19h00 avec transport priv√© aller-retour depuis votre h√©bergement √† Marrakech.",
                        duration: "Soir√©e (19h00)",
                        price: "65‚Ç¨ par personne",
                        groupSize: "",
                        difficulty: "Facile",
                        transport: "Transport non inclus (optionnel)",
                        guide: "Chauffeur professionnel",
                        highlights: [
                            "Spectacle de fantasia traditionnel",
                            "D√Æner sous tentes berb√®res",
                            "Danseurs et acrobates",
                            "Cavaliers et feux d'artifice",
                            "Musique folklorique en direct",
                            "Atmosph√®re magique et authentique"
                        ],
                        itinerary: [
                            "Rendez-vous √† Chez Ali √† 19h00 (transport non inclus)",
                            "Arriv√©e et installation sous tente",
                            "D√Æner traditionnel marocain (Tajin + Mechwi + Couscous + Harira + P√¢tisserie marocaine)",
                            "Spectacle de fantasia avec parade d'artistes"
                        ],
                        included: [
                            "D√Æner complet traditionnel marocain",
                            "Menu: Tajin + Mechwi + Couscous + Harira + P√¢tisserie marocaine",
                            "Spectacle de fantasia",
                            "Animation musicale en direct",
                            "Eau min√©rale"
                        ],
                        notIncluded: [
                            "Transport aller-retour (optionnel)",
                            "Boissons alcoolis√©es",
                            "Pourboires",
                            "Photos souvenirs",
                            "D√©penses personnelles"
                        ]
                    },
                    en: {
                        title: "Dinner Show at Chez Ali Fantasia",
                        description: "Experience an unforgettable evening at the Chez Ali restaurant-show, one of Marrakech's most iconic venues. Under large, carefully decorated Berber tents, immerse yourself in a fairy-tale atmosphere where tradition, music and Moroccan legends blend together.\n\nTo the rhythm of drums and folk songs, savor a typical Moroccan dinner consisting of various salads, mechoui, fragrant couscous, oriental pastries and mint tea, served in a warm and friendly atmosphere.\n\nThe evening continues with the famous Fantasia show, a real journey through time. Horsemen, dancers, acrobats and musicians follow one another to offer a grandiose show, combining impressive rides, synchronized shots and fireworks. The atmosphere then becomes magical and captivating.\n\nA unique experience to share with family, as a couple or with friends, to discover the authenticity and generosity of Morocco. Departure is scheduled at 7:00 PM with private round-trip transport from your accommodation in Marrakech.",
                        duration: "Evening (7:00 PM)",
                        price: "65‚Ç¨ per person",
                        groupSize: "",
                        difficulty: "Easy",
                        transport: "Transport not included (optional)",
                        guide: "Professional driver",
                        highlights: [
                            "Traditional Fantasia show",
                            "Dinner under Berber tents",
                            "Dancers and acrobats",
                            "Horsemen and fireworks",
                            "Live folk music",
                            "Magical and authentic atmosphere"
                        ],
                        itinerary: [
                            "Meet at Chez Ali at 7:00 PM (transport not included)",
                            "Arrival and installation under tent",
                            "Traditional Moroccan dinner (Tajine + Mechoui + Couscous + Harira + Moroccan pastries)",
                            "Fantasia show with artist parade"
                        ],
                        included: [
                            "Complete traditional Moroccan dinner",
                            "Menu: Tajine + Mechoui + Couscous + Harira + Moroccan pastries",
                            "Fantasia show",
                            "Live musical entertainment",
                            "Mineral water"
                        ],
                        notIncluded: [
                            "Round trip transport (optional)",
                            "Alcoholic drinks",
                            "Tips",
                            "Souvenir photos",
                            "Personal expenses"
                        ]
                    },
                    es: {
                        title: "Cena Espect√°culo en Chez Ali Fantas√≠a",
                        description: "Viva una velada inolvidable en el restaurante-espect√°culo Chez Ali, uno de los lugares m√°s emblem√°ticos de Marrakech. Bajo grandes tiendas bereberes decoradas con cuidado, sum√©rjase en una atm√≥sfera de cuento donde se mezclan tradici√≥n, m√∫sica y leyendas marroqu√≠es.\n\nAl ritmo de tambores y canciones populares, saboree una cena t√≠picamente marroqu√≠ compuesta de ensaladas variadas, mechoui, cusc√∫s perfumado, pasteles orientales y t√© de menta, servida en un ambiente c√°lido y acogedor.\n\nLa velada contin√∫a con el famoso espect√°culo Fantas√≠a, un verdadero viaje en el tiempo. Jinetes, bailarines, acr√≥batas y m√∫sicos se suceden para ofrecer un espect√°culo grandioso, combinando cabalgatas impresionantes, disparos sincronizados y fuegos artificiales. La atm√≥sfera se vuelve entonces m√°gica y cautivadora.\n\nUna experiencia √∫nica para vivir en familia, en pareja o entre amigos, para descubrir la autenticidad y generosidad de Marruecos. La salida est√° prevista a las 19:00 con transporte privado de ida y vuelta desde su alojamiento en Marrakech.",
                        duration: "Noche (19:00)",
                        price: "65‚Ç¨ por persona",
                        groupSize: "",
                        difficulty: "F√°cil",
                        transport: "Transporte no incluido (opcional)",
                        guide: "Conductor profesional",
                        highlights: [
                            "Espect√°culo de fantas√≠a tradicional",
                            "Cena bajo tiendas bereberes",
                            "Bailarines y acr√≥batas",
                            "Jinetes y fuegos artificiales",
                            "M√∫sica folcl√≥rica en directo",
                            "Atm√≥sfera m√°gica y aut√©ntica"
                        ],
                        itinerary: [
                            "Cita en Chez Ali a las 19:00 (transporte no incluido)",
                            "Llegada e instalaci√≥n bajo tienda",
                            "Cena tradicional marroqu√≠ (Taj√≠n + Mechui + Cusc√∫s + Harira + Pasteler√≠a marroqu√≠)",
                            "Espect√°culo de fantas√≠a con desfile de artistas"
                        ],
                        included: [
                            "Cena completa tradicional marroqu√≠",
                            "Men√∫: Taj√≠n + Mechui + Cusc√∫s + Harira + Pasteler√≠a marroqu√≠",
                            "Espect√°culo de fantas√≠a",
                            "Animaci√≥n musical en directo",
                            "Agua mineral"
                        ],
                        notIncluded: [
                            "Transporte de ida y vuelta (opcional)",
                            "Bebidas alcoh√≥licas",
                            "Propinas",
                            "Fotos de recuerdo",
                            "Gastos personales"
                        ]
                    }
                }
            },
            "agadir-boat-trip": {
                shared: {
                    image: "assets/agadir.jpeg",
                    images: [
                        "assets/agadir.jpeg",
                        "assets/agadir/06.jpg",
                        "assets/agadir/agadir-tourisme 1.jpg",
                        "assets/agadir/Agadir1.jpg",
                        "assets/agadir/Main-beach-of-Agadir-city.jpg",
                        "assets/agadir/marina22.png",
                        "assets/agadir/Tourisme-Agadir.jpg",
                        "assets/agadir/WhatsApp Image 2025-11-18 at 23.50.16 (1).jpeg",
                        "assets/agadir/WhatsApp Image 2025-11-18 at 23.50.16 (2).jpeg",
                        "assets/agadir/WhatsApp Image 2025-11-18 at 23.50.16 (3).jpeg",
                        "assets/agadir/WhatsApp Image 2025-11-18 at 23.50.17.jpeg"
                    ]
                },
                translations: {
                    fr: {
                        title: "Excursion Priv√©e √† Agadir ‚Äì d√©part de Marrakech",
                        description: "Partez pour une journ√©e inoubliable √† Agadir, la perle de l'oc√©an Atlantique, lors d'une excursion compl√®te au d√©part de Marrakech. Le trajet, d'environ 3 heures, est une v√©ritable d√©couverte : montagnes de l'Atlas, villages berb√®res, vall√©es verdoyantes et plantations d'arganiers se succ√®dent tout au long de la route, offrant des panoramas spectaculaires typiquement marocains. √Ä votre arriv√©e, profitez d'une journ√©e libre √† Agadir pour explorer la ville √† votre rythme : fl√¢nez sur la magnifique corniche, d√©couvrez le port de p√™che anim√©, visitez la Kasbah d'Agadir Oufella pour une vue imprenable sur la baie, ou d√©tendez-vous sur la plage dor√©e baign√©e par le soleil. Entre modernit√© et authenticit√©, Agadir s√©duit par son ambiance paisible, son climat doux toute l'ann√©e et la chaleur de ses habitants. Une escapade parfaite pour profiter de la mer, du soleil et des paysages contrast√©s du Maroc, entre d√©sert, montagne et oc√©an.",
                        duration: "14 heures",
                        price: "180 ‚Ç¨ pour un groupe de 1-4 Personnes",
                        groupSize: "1-4 personnes",
                        difficulty: "Facile",
                        transport: "Van Priv√©",
                        guide: "Chauffeur professionnel",
                        highlights: [
                            "Groupe Priv√©",
                            "Paysages uniques",
                            "D√©couverte de la culture Amazigh",
                            "Plage sur la c√¥te Atlantique",
                            "Gastronomie locale",
                            "Marina et corniche"
                        ],
                        itinerary: [
                            "Prise en charge √† l'h√¥tel",
                            "Trajet vers Agadir",
                            "Arr√™t sur l'autoroute pour se rafraichir",
                            "Arriv√©e √† agadir",
                            "Temps libre pour d√©couvrir la ville et la cote",
                            "Prise en charge",
                            "Retour √† Marrakech et d√©p√¥t √† l'h√¥tel"
                        ],
                        included: [
                            "D√©part √† 6h00 depuis votre h√¥tel",
                            "Prise en charge et retour",
                            "Transport priv√© avec chauffeur",
                            "Eau min√©rale √† bord"
                        ],
                        notIncluded: [
                            "Boissons alcoolis√©es",
                            "Pourboires",
                            "Photos souvenirs",
                            "D√©penses personnelles",
                            "Activit√©s optionnelles en ville"
                        ]
                    },
                    en: {
                        title: "Private Excursion to Agadir ‚Äì Departure from Marrakech",
                        description: "Set off for an unforgettable day in Agadir, the pearl of the Atlantic Ocean, on a full-day excursion from Marrakech. The approximately 3-hour journey is a real discovery: Atlas Mountains, Berber villages, lush valleys and argan plantations follow one another along the road, offering spectacular panoramas typical of Morocco. Upon arrival, enjoy a free day in Agadir to explore the city at your own pace: stroll along the magnificent corniche, discover the lively fishing port, visit the Kasbah of Agadir Oufella for an unbeatable view of the bay, or relax on the golden beach bathed in sunshine. Between modernity and authenticity, Agadir seduces with its peaceful atmosphere, mild climate all year round and the warmth of its inhabitants. A perfect getaway to enjoy the sea, sun and contrasting landscapes of Morocco, between desert, mountains and ocean.",
                        duration: "14 hours",
                        price: "180 ‚Ç¨ for a group of 1-4 People",
                        groupSize: "1-4 people",
                        difficulty: "Easy",
                        transport: "Private Van",
                        guide: "Professional driver",
                        highlights: [
                            "Private Group",
                            "Unique landscapes",
                            "Discovery of Amazigh culture",
                            "Beach on the Atlantic coast",
                            "Local gastronomy",
                            "Marina and corniche"
                        ],
                        itinerary: [
                            "Hotel pick-up",
                            "Journey to Agadir",
                            "Highway stop to refresh",
                            "Arrival in Agadir",
                            "Free time to discover the city and coast",
                            "Pick-up",
                            "Return to Marrakech and hotel drop-off"
                        ],
                        included: [
                            "Departure at 6:00 AM from your hotel",
                            "Pick up & drop off",
                            "Private transport with driver",
                            "Mineral water on board"
                        ],
                        notIncluded: [
                            "Alcoholic drinks",
                            "Tips",
                            "Souvenir photos",
                            "Personal expenses",
                            "Optional activities in the city"
                        ]
                    },
                    es: {
                        title: "Excursi√≥n Privada a Agadir ‚Äì Salida desde Marrakech",
                        description: "Parta para un d√≠a inolvidable en Agadir, la perla del oc√©ano Atl√°ntico, en una excursi√≥n completa desde Marrakech. El viaje de aproximadamente 3 horas es un verdadero descubrimiento: monta√±as del Atlas, pueblos bereberes, valles verdes y plantaciones de arg√°n se suceden a lo largo de la carretera, ofreciendo panoramas espectaculares t√≠picos de Marruecos. A su llegada, disfrute de un d√≠a libre en Agadir para explorar la ciudad a su ritmo: pasee por el magn√≠fico paseo mar√≠timo, descubra el puerto pesquero animado, visite la Kasbah de Agadir Oufella para una vista impresionante de la bah√≠a, o rel√°jese en la playa dorada ba√±ada por el sol. Entre modernidad y autenticidad, Agadir seduce con su ambiente tranquilo, su clima suave durante todo el a√±o y la calidez de sus habitantes. Una escapada perfecta para disfrutar del mar, el sol y los paisajes contrastados de Marruecos, entre desierto, monta√±a y oc√©ano.",
                        duration: "14 horas",
                        price: "180 ‚Ç¨ para un grupo de 1-4 Personas",
                        groupSize: "1-4 personas",
                        difficulty: "F√°cil",
                        transport: "Furgoneta Privada",
                        guide: "Conductor profesional",
                        highlights: [
                            "Grupo Privado",
                            "Paisajes √∫nicos",
                            "Descubrimiento de la cultura Amazigh",
                            "Playa en la costa Atl√°ntica",
                            "Gastronom√≠a local",
                            "Marina y paseo mar√≠timo"
                        ],
                        itinerary: [
                            "Recogida en el hotel",
                            "Viaje a Agadir",
                            "Parada en la autopista para refrescarse",
                            "Llegada a Agadir",
                            "Tiempo libre para descubrir la ciudad y la costa",
                            "Recogida",
                            "Regreso a Marrakech y traslado al hotel"
                        ],
                        included: [
                            "Salida a las 6:00 desde su hotel",
                            "Recogida y regreso",
                            "Transporte privado con conductor",
                            "Agua mineral a bordo"
                        ],
                        notIncluded: [
                            "Bebidas alcoh√≥licas",
                            "Propinas",
                            "Fotos de recuerdo",
                            "Gastos personales",
                            "Actividades opcionales en la ciudad"
                        ]
                    }
                }
            },
            "hot-air-balloon-classic": {
                shared: {
                    image: "./assets/mongolfiere.jpeg"
                },
                translations: {
                    fr: {
                        title: "Vol magique en Montgolfi√®re au lever du soleil ‚Äì d√©part de Marrakech",
                        description: "Vivez un moment unique et inoubliable au-dessus des paysages fascinants de Marrakech ! D√®s les premi√®res lueurs du jour, partez pour une aventure exceptionnelle : un vol en montgolfi√®re qui vous fera d√©couvrir la beaut√© du d√©sert, des villages berb√®res et des montagnes de l'Atlas vues du ciel.",
                        duration: "4 heures",
                        price: "195 ‚Ç¨ par personne",
                        difficulty: "Facile",
                        transport: "4x4 priv√©",
                        guide: "Pilote professionnel",
                        highlights: [
                            "Vol en montgolfi√®re d'1 heure",
                            "Vue panoramique sur l'Atlas",
                            "Lever du soleil",
                            "Petit-d√©jeuner berb√®re",
                            "Certificat de vol",
                            "Wi-Fi gratuit"
                        ],
                        itinerary: [
                            "Prise en charge √† 5h00",
                            "Pr√©paration de la montgolfi√®re",
                            "Vol d'1 heure au-dessus du d√©sert",
                            "Petit-d√©jeuner traditionnel",
                            "Retour √† Marrakech vers 9h00"
                        ],
                        included: [
                            "Transport 4x4",
                            "Vol en montgolfi√®re",
                            "Petit-d√©jeuner",
                            "Certificat",
                            "Wi-Fi gratuit"
                        ],
                        notIncluded: [
                            "Pourboires"
                        ]
                    },
                    en: {
                        title: "Magical Hot Air Balloon Flight at Sunrise ‚Äì Departure from Marrakech",
                        description: "Experience a unique and unforgettable moment above the fascinating landscapes of Marrakech! From the first light of day, embark on an exceptional adventure: a hot air balloon flight that will reveal the beauty of the desert, Berber villages, and the Atlas Mountains seen from the sky.",
                        duration: "4 hours",
                        price: "195 ‚Ç¨ per person",
                        difficulty: "Easy",
                        transport: "Private 4x4",
                        guide: "Professional pilot",
                        highlights: [
                            "1-hour hot air balloon flight",
                            "Panoramic view of the Atlas",
                            "Sunrise",
                            "Berber breakfast",
                            "Flight certificate",
                            "Free Wi-Fi"
                        ],
                        itinerary: [
                            "Pick-up at 5:00 AM",
                            "Hot air balloon preparation",
                            "1-hour flight over the desert",
                            "Traditional breakfast",
                            "Return to Marrakech around 9:00 AM"
                        ],
                        included: [
                            "4x4 transport",
                            "Hot air balloon flight",
                            "Breakfast",
                            "Certificate",
                            "Free Wi-Fi"
                        ],
                        notIncluded: [
                            "Tips"
                        ]
                    },
                    es: {
                        title: "Vuelo m√°gico en globo aerost√°tico al amanecer ‚Äì Salida desde Marrakech",
                        description: "¬°Vive un momento √∫nico e inolvidable sobre los fascinantes paisajes de Marrakech! Desde los primeros rayos del d√≠a, emprende una aventura excepcional: un vuelo en globo aerost√°tico que te har√° descubrir la belleza del desierto, los pueblos bereberes y las monta√±as del Atlas vistas desde el cielo.",
                        duration: "4 horas",
                        price: "195 ‚Ç¨ por persona",
                        difficulty: "F√°cil",
                        transport: "4x4 privado",
                        guide: "Piloto profesional",
                        highlights: [
                            "Vuelo en globo aerost√°tico de 1 hora",
                            "Vista panor√°mica del Atlas",
                            "Amanecer",
                            "Desayuno bereber",
                            "Certificado de vuelo",
                            "Wi-Fi gratuito"
                        ],
                        itinerary: [
                            "Recogida a las 5:00",
                            "Preparaci√≥n del globo aerost√°tico",
                            "Vuelo de 1 hora sobre el desierto",
                            "Desayuno tradicional",
                            "Regreso a Marrakech alrededor de las 9:00"
                        ],
                        included: [
                            "Transporte 4x4",
                            "Vuelo en globo aerost√°tico",
                            "Desayuno",
                            "Certificado",
                            "Wi-Fi gratuito"
                        ],
                        notIncluded: [
                            "Propinas"
                        ]
                    }
                }
            },
            "hot-air-balloon-premium": {
                shared: {
                    image: "./assets/mongol2.jpeg"
                },
                translations: {
                    fr: {
                        title: "Vol en Montgolfi√®re - Premium",
                        description: "Profitez d'une exp√©rience plus compl√®te alliant aventure et authenticit√©. Apr√®s votre vol en montgolfi√®re, partez pour une balade √† dos de chameau et une escapade en quad dans la palmeraie de Marrakech. Une formule qui combine d√©tente, exploration et plaisir.",
                        duration: "5 heures",
                        price: "240 ‚Ç¨ par personne",
                        difficulty: "Facile",
                        transport: "4x4 priv√©",
                        guide: "Pilote + guide d'activit√©s",
                        highlights: [
                            "Vol en montgolfi√®re d'1 heure",
                            "Balade √† dos de chameau",
                            "Aventure en quad bike",
                            "Petit-d√©jeuner premium",
                            "Photos professionnelles",
                            "Certificat de vol"
                        ],
                        itinerary: [
                            "Prise en charge √† 5h00",
                            "Vol en montgolfi√®re",
                            "Petit-d√©jeuner",
                            "Balade √† dos de chameau",
                            "Quad bike dans la palmeraie",
                            "Retour √† Marrakech"
                        ],
                        included: [
                            "Tout du package Classic",
                            "Balade √† dos de chameau",
                            "Quad bike (30 min)",
                            "Photos professionnelles",
                            "Guide d'activit√©s"
                        ],
                        notIncluded: [
                            "Pourboires",
                            "Transport vers l'endroit de l'excursion."
                        ]
                    },
                    en: {
                        title: "Hot Air Balloon - Premium",
                        description: "Enjoy a more complete experience combining adventure and authenticity. After your hot air balloon flight, embark on a camel ride and a quad bike adventure in the Marrakech palm grove. A package that combines relaxation, exploration and fun.",
                        duration: "5 hours",
                        price: "240 ‚Ç¨ per person",
                        difficulty: "Easy",
                        transport: "Private 4x4",
                        guide: "Pilot + activity guide",
                        highlights: [
                            "1-hour hot air balloon flight",
                            "Camel ride",
                            "Quad bike adventure",
                            "Premium breakfast",
                            "Professional photos",
                            "Flight certificate"
                        ],
                        itinerary: [
                            "Pick-up at 5:00 AM",
                            "Hot air balloon flight",
                            "Breakfast",
                            "Camel ride",
                            "Quad bike in the palm grove",
                            "Return to Marrakech"
                        ],
                        included: [
                            "Everything from the Classic package",
                            "Camel ride",
                            "Quad bike (30 min)",
                            "Professional photos",
                            "Activity guide"
                        ],
                        notIncluded: [
                            "Tips",
                            "Transport to the excursion location."
                        ]
                    },
                    es: {
                        title: "Globo Aerost√°tico - Premium",
                        description: "Disfruta de una experiencia m√°s completa que combina aventura y autenticidad. Despu√©s de tu vuelo en globo aerost√°tico, emprende un paseo en camello y una aventura en quad por la palmeraie de Marrakech. Un paquete que combina relajaci√≥n, exploraci√≥n y diversi√≥n.",
                        duration: "5 horas",
                        price: "240 ‚Ç¨ por persona",
                        difficulty: "F√°cil",
                        transport: "4x4 privado",
                        guide: "Piloto + gu√≠a de actividades",
                        highlights: [
                            "Vuelo en globo aerost√°tico de 1 hora",
                            "Paseo en camello",
                            "Aventura en quad bike",
                            "Desayuno premium",
                            "Fotos profesionales",
                            "Certificado de vuelo"
                        ],
                        itinerary: [
                            "Recogida a las 5:00",
                            "Vuelo en globo aerost√°tico",
                            "Desayuno",
                            "Paseo en camello",
                            "Quad bike en la palmeraie",
                            "Regreso a Marrakech"
                        ],
                        included: [
                            "Todo del paquete Classic",
                            "Paseo en camello",
                            "Quad bike (30 min)",
                            "Fotos profesionales",
                            "Gu√≠a de actividades"
                        ],
                        notIncluded: [
                            "Propinas",
                            "Transporte hacia el lugar de la excursi√≥n."
                        ]
                    }
                }
            },
            "hot-air-balloon-vip": {
                shared: {
                    image: "./assets/mongolf3.jpeg"
                },
                translations: {
                    fr: {
                        title: "Vol en Montgolfi√®re - VIP",
                        description: "L'exp√©rience de luxe ultime dans le ciel de Marrakech ! Profitez d'un vol priv√© exclusif, d'un service personnalis√© et d'un petit-d√©jeuner raffin√© servi pendant le vol. Un moment d'exception, parfait pour c√©l√©brer un √©v√©nement sp√©cial ou vivre une aventure inoubliable √† deux.",
                        duration: "5 heures",
                        price: "460 ‚Ç¨ par personne",
                        difficulty: "Luxe",
                        transport: "4x4 priv√© de luxe",
                        guide: "Pilote + concierge priv√©",
                        highlights: [
                            "Compartiment priv√© exclusif",
                            "Petit-d√©jeuner servi en vol",
                            "Champagne et canap√©s",
                            "Service conciergerie",
                            "Photos professionnelles",
                            "Certificat VIP"
                        ],
                        itinerary: [
                            "Prise en charge VIP √† 5h00",
                            "Transfert en 4x4 de luxe",
                            "Vol priv√© en montgolfi√®re",
                            "Petit-d√©jeuner en vol",
                            "Retour VIP √† Marrakech"
                        ],
                        included: [
                            "Tout du package Premium",
                            "Compartiment priv√©",
                            "Petit-d√©jeuner en vol",
                            "Champagne",
                            "Concierge priv√©",
                            "Service VIP"
                        ],
                        notIncluded: [
                            "Transport vers l'endroit de l'excursion.",
                            "Pourboires"
                        ]
                    },
                    en: {
                        title: "Hot Air Balloon - VIP",
                        description: "The ultimate luxury experience in the skies of Marrakech! Enjoy an exclusive private flight, personalized service and a refined breakfast served during the flight. An exceptional moment, perfect for celebrating a special event or experiencing an unforgettable adventure for two.",
                        duration: "5 hours",
                        price: "460 ‚Ç¨ per person",
                        difficulty: "Luxury",
                        transport: "Luxury private 4x4",
                        guide: "Pilot + private concierge",
                        highlights: [
                            "Exclusive private compartment",
                            "Breakfast served in flight",
                            "Champagne and canap√©s",
                            "Concierge service",
                            "Professional photos",
                            "VIP certificate"
                        ],
                        itinerary: [
                            "VIP pick-up at 5:00 AM",
                            "Transfer in luxury 4x4",
                            "Private hot air balloon flight",
                            "Breakfast in flight",
                            "VIP return to Marrakech"
                        ],
                        included: [
                            "Everything from the Premium package",
                            "Private compartment",
                            "Breakfast in flight",
                            "Champagne",
                            "Private concierge",
                            "VIP service"
                        ],
                        notIncluded: [
                            "Transport to the excursion location.",
                            "Tips"
                        ]
                    },
                    es: {
                        title: "Globo Aerost√°tico - VIP",
                        description: "¬°La experiencia de lujo definitiva en los cielos de Marrakech! Disfruta de un vuelo privado exclusivo, servicio personalizado y un desayuno refinado servido durante el vuelo. Un momento excepcional, perfecto para celebrar un evento especial o vivir una aventura inolvidable para dos.",
                        duration: "5 horas",
                        price: "460 ‚Ç¨ por persona",
                        difficulty: "Lujo",
                        transport: "4x4 privado de lujo",
                        guide: "Piloto + conserje privado",
                        highlights: [
                            "Compartimento privado exclusivo",
                            "Desayuno servido en vuelo",
                            "Champ√°n y canap√©s",
                            "Servicio de conserjer√≠a",
                            "Fotos profesionales",
                            "Certificado VIP"
                        ],
                        itinerary: [
                            "Recogida VIP a las 5:00",
                            "Traslado en 4x4 de lujo",
                            "Vuelo privado en globo aerost√°tico",
                            "Desayuno en vuelo",
                            "Regreso VIP a Marrakech"
                        ],
                        included: [
                            "Todo del paquete Premium",
                            "Compartimento privado",
                            "Desayuno en vuelo",
                            "Champ√°n",
                            "Conserje privado",
                            "Servicio VIP"
                        ],
                        notIncluded: [
                            "Transporte hacia el lugar de la excursi√≥n.",
                            "Propinas"
                        ]
                    }
                }
            },
            'transfert-aeroport': {
                shared: {
                    image: "assets/aeroport-marrakech.jpeg",
                    images: [
                        "assets/aeroport-marrakech.jpeg",
                        "assets/transfert/WhatsApp Image 2025-10-08 at 19.22.53 (1).jpeg",
                        "assets/transfert/WhatsApp Image 2025-10-08 at 19.22.53.jpeg",
                        "assets/transport.jpeg"
                    ]
                },
                translations: {
                    fr: {
                        title: "Transfert √† partir de l'a√©roport de Marrakech vers votre H√¥tel, Riad, Airbnb ‚Äì Centre de Marrakech",
                        description: "Profitez d'un transfert priv√© en van moderne depuis l'a√©roport de Marrakech vers toutes vos destinations en ville : H√¥tels, Riads ou Airbnb. Nos chauffeurs professionnels vous accueillent d√®s votre arriv√©e pour un trajet confortable, s√©curis√© et rapide, vous permettant de commencer votre s√©jour sans stress. Voyagez √† bord de notre van spacieux et moderne, parfait pour les familles ou les groupes, et profitez d'un service ponctuel, fiable et personnalis√©. Commencez votre exp√©rience √† Marrakech en toute tranquillit√© et style !",
                        duration: "30-45 minutes",
                        price: "20 ‚Ç¨",
                        groupSize: "1-4 personnes",
                        difficulty: "Facile",
                        transport: "Van ou 4x4 Priv√© climatis√©",
                        guide: "Chauffeur professionnel",
                        highlights: [
                            "Service de transfert priv√©",
                            "Chauffeur professionnel",
                            "Van ou 4x4 moderne et climatis√©",
                            "Prise en charge √† l'a√©roport",
                            "Assistance aux bagages",
                            "Service 24h/24"
                        ],
                        itinerary: [
                            "Prise en charge √† l'a√©roport ou √† votre h√¥tel",
                            "Accueil avec pancarte nominative",
                            "Assistance aux bagages",
                            "Transport confortable vers destination",
                            "Arriv√©e √† destination"
                        ],
                        included: [
                            "Transport priv√© aller-retour",
                            "Chauffeur professionnel",
                            "Van ou 4x4 climatis√©",
                            "Assistance aux bagages",
                            "Eau min√©rale",
                            "Wi-Fi gratuit"
                        ],
                        notIncluded: [
                            "Pourboires",
                            "D√©penses personnelles",
                            "Repas"
                        ]
                    },
                    en: {
                        title: "Transfer from Marrakech Airport to your Hotel, Riad, Airbnb ‚Äì Marrakech Center",
                        description: "Enjoy a private transfer in a modern van from Marrakech Airport to all your destinations in the city: Hotels, Riads or Airbnb. Our professional drivers welcome you upon your arrival for a comfortable, secure and fast journey, allowing you to start your stay stress-free. Travel in our spacious and modern van, perfect for families or groups, and enjoy a punctual, reliable and personalized service. Start your Marrakech experience in complete tranquility and style!",
                        duration: "30-45 minutes",
                        price: "20 ‚Ç¨",
                        groupSize: "1-4 people",
                        difficulty: "Easy",
                        transport: "Private air-conditioned Van or 4x4",
                        guide: "Professional driver",
                        highlights: [
                            "Private transfer service",
                            "Professional driver",
                            "Modern air-conditioned Van or 4x4",
                            "Airport pickup",
                            "Luggage assistance",
                            "24/7 service"
                        ],
                        itinerary: [
                            "Pickup at airport or your hotel",
                            "Welcome with name sign",
                            "Luggage assistance",
                            "Comfortable transport to destination",
                            "Arrival at destination"
                        ],
                        included: [
                            "Private round-trip transport",
                            "Professional driver",
                            "Air-conditioned Van or 4x4",
                            "Luggage assistance",
                            "Mineral water",
                            "Free Wi-Fi"
                        ],
                        notIncluded: [
                            "Tips",
                            "Personal expenses",
                            "Meals"
                        ]
                    },
                    es: {
                        title: "Traslado desde el aeropuerto de Marrakech a su Hotel, Riad, Airbnb ‚Äì Centro de Marrakech",
                        description: "Disfrute de un traslado privado en van moderna desde el aeropuerto de Marrakech a todos sus destinos en la ciudad: Hoteles, Riads o Airbnb. Nuestros conductores profesionales lo reciben a su llegada para un viaje c√≥modo, seguro y r√°pido, permiti√©ndole comenzar su estad√≠a sin estr√©s. Viaje en nuestra van espaciosa y moderna, perfecta para familias o grupos, y disfrute de un servicio puntual, confiable y personalizado. ¬°Comience su experiencia en Marrakech con total tranquilidad y estilo!",
                        duration: "30-45 minutos",
                        price: "20 ‚Ç¨",
                        groupSize: "1-4 personas",
                        difficulty: "F√°cil",
                        transport: "Van o 4x4 Privado con aire acondicionado",
                        guide: "Conductor profesional",
                        highlights: [
                            "Servicio de traslado privado",
                            "Conductor profesional",
                            "Van o 4x4 moderna y climatizada",
                            "Recogida en el aeropuerto",
                            "Asistencia de equipaje",
                            "Servicio 24/7"
                        ],
                        itinerary: [
                            "Recogida en el aeropuerto o en su hotel",
                            "Bienvenida con cartel con nombre",
                            "Asistencia de equipaje",
                            "Transporte c√≥modo al destino",
                            "Llegada al destino"
                        ],
                        included: [
                            "Transporte privado ida y vuelta",
                            "Conductor profesional",
                            "Van o 4x4 climatizado",
                            "Asistencia de equipaje",
                            "Agua mineral",
                            "Wi-Fi gratuito"
                        ],
                        notIncluded: [
                            "Propinas",
                            "Gastos personales",
                            "Comidas"
                        ]
                    }
                }
            },
            'transfert-aeroport-sur-mesure': {
                shared: {
                    image: "assets/transport.jpeg",
                    images: [
                        "assets/transport.jpeg",
                        "assets/transfert/WhatsApp Image 2025-10-08 at 19.22.53 (1).jpeg",
                        "assets/transfert/WhatsApp Image 2025-10-08 at 19.22.53.jpeg",
                        "assets/aeroport-marrakech.jpeg",
                        "assets/transfert/WhatsApp Image 2025-11-26 at 01.17.55.jpeg",
                        "assets/transfert/WhatsApp Image 2025-11-26 at 01.17.56 (1).jpeg",
                        "assets/transfert/WhatsApp Image 2025-11-26 at 01.17.56 (2).jpeg",
                        "assets/transfert/WhatsApp Image 2025-11-26 at 01.17.56 (3).jpeg",
                        "assets/transfert/WhatsApp Image 2025-11-26 at 01.17.56 (4).jpeg",
                        "assets/transfert/WhatsApp Image 2025-11-26 at 01.17.56 (5).jpeg",
                        "assets/transfert/WhatsApp Image 2025-11-26 at 01.17.56.jpeg"
                    ]
                },
                translations: {
                    fr: {
                        title: "Transport sur mesure et priv√© dans tout le Maroc d√©part de Marrakech",
                        description: "D√©couvrez le Maroc en toute libert√© avec notre service de transport priv√© en van, disponible pour groupes ou voyageurs individuels. Que ce soit pour une mise √† disposition d'une journ√©e √† Marrakech ou pour un trajet vers une autre ville, profitez d'un service sur mesure, adapt√© √† vos besoins et √† votre emploi du temps. Nos chauffeurs professionnels vous assurent un voyage confortable, s√©curis√© et ponctuel, √† bord de vans modernes et spacieux. Explorez le Maroc √† votre rythme, en toute s√©r√©nit√© et avec un service enti√®rement personnalis√©",
                        duration: "Variable selon destination",
                        price: "Sur demande",
                        groupSize: "Flexible",
                        difficulty: "Facile",
                        transport: "Van ou 4x4 Priv√©",
                        guide: "Chauffeur professionnel",
                        highlights: [
                            "Service personnalis√© sur mesure",
                            "Van ou 4x4 priv√© climatis√©",
                            "Chauffeur professionnel",
                            "Service sur mesure",
                            "Assistance compl√®te",
                            "Service 24h/24"
                        ],
                        itinerary: [
                            "D√©finition de votre itin√©raire personnalis√©",
                            "Prise en charge √† votre h√¥tel ou lieu souhait√©",
                            "Transport confortable vers destination(s)",
                            "Flexibilit√© totale du programme",
                            "Retour selon vos besoins"
                        ],
                        included: [
                            "Transport priv√© sur mesure",
                            "Chauffeur professionnel",
                            "Van ou 4x4 climatis√©",
                            "Assistance compl√®te",
                            "Eau min√©rale",
                            "Wi-Fi gratuit",
                            "Service flexible 24h/24"
                        ],
                        notIncluded: [
                            "Pourboires",
                            "D√©penses personnelles",
                            "Repas"
                        ]
                    },
                    en: {
                        title: "Custom and Private Transport throughout Morocco ‚Äì Departure from Marrakech",
                        description: "Discover Morocco in complete freedom with our private van transport service, available for groups or individual travelers. Whether it's for a day hire in Marrakech or a journey to another city, enjoy a custom service, adapted to your needs and schedule. Our professional drivers ensure a comfortable, secure and punctual journey, aboard modern and spacious vans. Explore Morocco at your own pace, in complete serenity and with a fully personalized service",
                        duration: "Variable according to destination",
                        price: "On request",
                        groupSize: "Flexible",
                        difficulty: "Easy",
                        transport: "Private Van or 4x4",
                        guide: "Professional driver",
                        highlights: [
                            "Custom personalized service",
                            "Private air-conditioned Van or 4x4",
                            "Professional driver",
                            "Custom service",
                            "Complete assistance",
                            "24/7 service"
                        ],
                        itinerary: [
                            "Definition of your custom itinerary",
                            "Pickup at your hotel or desired location",
                            "Comfortable transport to destination(s)",
                            "Total program flexibility",
                            "Return according to your needs"
                        ],
                        included: [
                            "Custom private transport",
                            "Professional driver",
                            "Air-conditioned Van or 4x4",
                            "Complete assistance",
                            "Mineral water",
                            "Free Wi-Fi",
                            "Flexible 24/7 service"
                        ],
                        notIncluded: [
                            "Tips",
                            "Personal expenses",
                            "Meals"
                        ]
                    },
                    es: {
                        title: "Transporte personalizado y privado por todo Marruecos ‚Äì Salida desde Marrakech",
                        description: "Descubra Marruecos en total libertad con nuestro servicio de transporte privado en van, disponible para grupos o viajeros individuales. Ya sea para un servicio de un d√≠a en Marrakech o para un viaje a otra ciudad, disfrute de un servicio personalizado, adaptado a sus necesidades y horarios. Nuestros conductores profesionales le aseguran un viaje c√≥modo, seguro y puntual, a bordo de vans modernas y espaciosas. Explore Marruecos a su propio ritmo, con total serenidad y con un servicio totalmente personalizado",
                        duration: "Variable seg√∫n destino",
                        price: "Bajo pedido",
                        groupSize: "Flexible",
                        difficulty: "F√°cil",
                        transport: "Van o 4x4 Privado",
                        guide: "Conductor profesional",
                        highlights: [
                            "Servicio personalizado a medida",
                            "Van o 4x4 privado climatizado",
                            "Conductor profesional",
                            "Servicio a medida",
                            "Asistencia completa",
                            "Servicio 24/7"
                        ],
                        itinerary: [
                            "Definici√≥n de su itinerario personalizado",
                            "Recogida en su hotel o lugar deseado",
                            "Transporte c√≥modo al destino(s)",
                            "Flexibilidad total del programa",
                            "Retorno seg√∫n sus necesidades"
                        ],
                        included: [
                            "Transporte privado personalizado",
                            "Conductor profesional",
                            "Van o 4x4 climatizado",
                            "Asistencia completa",
                            "Agua mineral",
                            "Wi-Fi gratuito",
                            "Servicio flexible 24/7"
                        ],
                        notIncluded: [
                            "Propinas",
                            "Gastos personales",
                            "Comidas"
                        ]
                    }
                }
            }
        };

        // Backward compatibility: Keep old excursions structure for non-translated excursions
        const excursions = {
            "marrakech-city-tour": {
                title: "Marrakech City Tour - Private Custom-Made",
                description: "Explore ancient city walls, splendid palaces with Moorish architecture, and discover the prestigious secret gardens.",
                duration: "4h ou 8h",
                price: "30 ‚Ç¨ par personne",
                image: "assets/ourika.jpeg",
                groupSize: "1-4 personnes",
                difficulty: "Facile",
                transport: "Minivan climatis√©",
                guide: "Guide local certifi√©",
                highlights: [
                    "M√©dina historique de Marrakech",
                    "Place Jemaa el-Fna",
                    "Palais Bahia et El Badi",
                    "Jardin Majorelle",
                    "Souks traditionnels",
                    "Mosqu√©e Koutoubia"
                ],
                itinerary: [
                    "Prise en charge √† l'h√¥tel",
                    "Visite de la M√©dina",
                    "Place Jemaa el-Fna",
                    "Palais et jardins",
                    "Souks et artisanat",
                    "Retour √† l'h√¥tel"
                ],
                included: [
                    "Transport priv√©",
                    "Guide local certifi√©",
                    "Prise en charge h√¥tel",
                    "Eau min√©rale",
                    "Assurance"
                ],
                notIncluded: [
                    "Billets d'entr√©e",
                    "D√©jeuner",
                    "Pourboires",
                    "D√©penses personnelles"
                ]
            },
            'tour-marrakech': {
                title: "Visite des monuments et Souks avec un guide locale multilingue ‚Äì ¬Ω journ√©e ou journ√©e compl√®te",
                description: "Explorez les anciens remparts de la ville, les palais somptueux √† l'architecture mauresque embl√©matique et d√©couvrez les prestigieux jardins secrets. Profitez d'une visite guid√©e authentique de la M√©dina du 9√®me si√®cle avec la c√©l√®bre place Djemaa El Fna et les Souks.",
                duration: "4-8 Heures",
                price: "√Ä partir de 110 ‚Ç¨",
                halfDayPrice: "110 ‚Ç¨",
                fullDayPrice: "√Ä partir de 170 ‚Ç¨",
                image: "assets/personalise.jpeg",
                images: [
                    "assets/personalise.jpeg",
                    "assets/city-tour.jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.19 (1).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.19 (2).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.19 (3).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.19.jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.20 (1).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.20 (2).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.20 (3).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.20 (4).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.20 (5).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.20 (6).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.20.jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.21 (1).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.21 (2).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.21 (3).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.21.jpeg"
                ],
                groupSize: "1-4 personnes",
                difficulty: "Facile",
                transport: "Van",
                guide: "Guide local multilingue certifi√© + Chauffeur",
                highlights: [
                    "M√©dina historique de Marrakech",
                    "Place Jemaa el-Fna",
                    "Palais Bahia et El Badi",
                    "Jardin Majorelle ou Secret Garden",
                    "Souks traditionnels",
                    "Mosqu√©e Koutoubia"
                ],
                itinerary: [
                    "Prise en charge √† l'h√¥tel",
                    "Visite de la M√©dina historique",
                    "Place Jemaa el-Fna et Souks",
                    "Palais avec architecture mauresque",
                    "Jardins prestigiaux",
                    "Retour √† l'h√¥tel"
                ],
                included: [
                    "Transport priv√© climatis√©",
                    "Guide local multilingue certifi√©",
                    "Prise en charge h√¥tel/riad",
                    "Eau min√©rale"
                ],
                notIncluded: [
                    "Billets d'entr√©e des monuments",
                    "D√©jeuner",
                    "Pourboires",
                    "D√©penses personnelles"
                ]
            },
            'guide-prive': {
                title: "Visite guid√©e et priv√©e et sur mesure et sur demande",
                description: "Guide personnalis√© ou accompagnateur avec transport priv√©. Guide local expert pour des visites personnalis√©es selon vos envies et votre rythme. Disponible en fran√ßais, anglais et espagnol.",
                duration: "Sur mesure",
                price: "Sur demande",
                image: "assets/tour-guide/az.jpg",
                images: [
                    "assets/tour-guide/az.jpg",
                    "assets/tour-guide/unnamed.jpg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.19 (1).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.19 (2).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.19 (3).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.19.jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.20 (1).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.20 (2).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.20 (3).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.20 (4).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.20 (5).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.20 (6).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.20.jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.21 (1).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.21 (2).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.21 (3).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-03 at 01.23.21.jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-18 at 23.51.57.jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-18 at 23.51.58 (1).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-18 at 23.51.58 (2).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-18 at 23.51.58 (3).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-18 at 23.51.58 (4).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-18 at 23.51.58.jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-18 at 23.51.59 (1).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-18 at 23.51.59 (2).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-18 at 23.51.59 (3).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-18 at 23.51.59 (4).jpeg",
                    "assets/tour-guide/WhatsApp Image 2025-11-18 at 23.51.59.jpeg"
                ],
                groupSize: "Flexible",
                difficulty: "Facile",
                transport: "Transport priv√© disponible",
                guide: "Guide priv√© et professionnel",
                highlights: [
                    "Service enti√®rement personnalis√©",
                    "Guide expert multilingue",
                    "Itin√©raire sur mesure",
                    "Rythme adapt√© √† vos besoins",
                    "Disponible toute l'ann√©e",
                    "Conseils et recommandations locales"
                ],
                itinerary: [
                    "D√©finition de votre itin√©raire personnalis√©",
                    "Prise en charge √† l'h√¥tel ou lieu souhait√©",
                    "Visites selon vos int√©r√™ts",
                    "Flexibilit√© totale du programme",
                    "Retour selon vos souhaits"
                ],
                included: [],
                notIncluded: []
            }
        };

        // Get excursion ID from URL
        function getExcursionId() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('id');
        }

        // Carousel functionality
        let currentSlide = 0;
        
        function changeSlide(carouselId, direction) {
            const carousel = document.getElementById(carouselId);
            if (!carousel) return;
            
            const slides = carousel.querySelectorAll('.carousel-slide');
            const totalSlides = slides.length;
            
            if (totalSlides === 0) return;
            
            currentSlide += direction;
            
            // Handle wrap-around
            if (currentSlide >= totalSlides) {
                currentSlide = 0;
            } else if (currentSlide < 0) {
                currentSlide = totalSlides - 1;
            }
            
            // Update carousel position
            const translateX = -currentSlide * 100;
            carousel.style.transform = `translateX(${translateX}%)`;
            
            // Update dots
            updateDots();
        }
        
        // Prevent double-click on carousel buttons and setup click handlers
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                const prevButton = document.querySelector('.carousel-prev');
                const nextButton = document.querySelector('.carousel-next');
                
                [prevButton, nextButton].forEach(button => {
                    if (button) {
                        const direction = parseInt(button.getAttribute('data-direction') || (button.classList.contains('carousel-prev') ? -1 : 1));
                        
                        button.addEventListener('click', function(e) {
                            e.preventDefault();
                            e.stopPropagation();
                            changeSlide('hero-carousel-track', direction);
                        }, { passive: false });
                        
                        // Prevent double-click
                        button.addEventListener('dblclick', function(e) {
                            e.preventDefault();
                            e.stopPropagation();
                        }, { passive: false });
                    }
                });
            }, 100);
        });
        
        function goToSlide(slideIndex) {
            const carousel = document.getElementById('hero-carousel-track');
            const slides = carousel.querySelectorAll('.carousel-slide');
            const totalSlides = slides.length;
            
            if (slideIndex >= 0 && slideIndex < totalSlides) {
                currentSlide = slideIndex;
                
                // Update carousel position
                const translateX = -currentSlide * 100;
                carousel.style.transform = `translateX(${translateX}%)`;
                
                // Update dots
                updateDots();
            }
        }
        
        function updateDots() {
            const dots = document.querySelectorAll('.carousel-dot');
            dots.forEach((dot, index) => {
                if (index === currentSlide) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }
        
        function createCarousel(excursion) {
            const carouselTrack = document.getElementById('hero-carousel-track');
            const dotsContainer = document.querySelector('#hero-carousel .absolute.bottom-3');
            const prevButton = document.querySelector('.carousel-prev');
            const nextButton = document.querySelector('.carousel-next');
            
            // Clear existing content
            carouselTrack.innerHTML = '';
            dotsContainer.innerHTML = '';
            
            // Use images array if available, otherwise use single image
            const images = excursion.images || [excursion.image];
            
            // Create slides
            images.forEach((imageSrc, index) => {
                const slide = document.createElement('div');
                slide.className = 'carousel-slide min-w-full';
                slide.innerHTML = `<img src="${imageSrc}" alt="${excursion.title} - Image ${index + 1}" class="w-full object-cover">`;
                carouselTrack.appendChild(slide);
                
                // Create dot
                const dot = document.createElement('span');
                dot.className = `carousel-dot ${index === 0 ? 'active' : ''}`;
                dot.onclick = () => goToSlide(index);
                dotsContainer.appendChild(dot);
            });
            
            // Hide arrows and dots if only one image
            if (images.length <= 1) {
                if (prevButton) prevButton.style.display = 'none';
                if (nextButton) nextButton.style.display = 'none';
                if (dotsContainer) dotsContainer.style.display = 'none';
            } else {
                // Show arrows and dots for multiple images
                if (prevButton) prevButton.style.display = 'flex';
                if (nextButton) nextButton.style.display = 'flex';
                if (dotsContainer) dotsContainer.style.display = 'flex';
            }
            
            // Reset current slide
            currentSlide = 0;
        }

        // Update SEO meta tags for excursion
        function updateSEOMetaTags(excursion, excursionId) {
            if (!excursion || !excursion.title) return;
            
            // Get the main image for the excursion
            const mainImage = excursion.images && excursion.images.length > 0 
                ? excursion.images[0] 
                : (excursion.image || './assets/metadata/2.jpeg');
            
            // Create full image URL
            const baseUrl = 'https://wehostmorocco.com';
            const imageUrl = mainImage.startsWith('http') ? mainImage : `${baseUrl}/${mainImage.replace('./', '')}`;
            
            // Create description (truncate if too long)
            const description = excursion.description 
                ? (excursion.description.length > 160 
                    ? excursion.description.substring(0, 157) + '...' 
                    : excursion.description)
                : `Discover ${excursion.title} with WeHostMorocco. Book your perfect adventure in Marrakech and Morocco.`;
            
            // Update page title
            document.title = `${excursion.title} - WeHostMorocco | Marrakech Tours & Excursions`;
            
            // Update meta description
            let metaDesc = document.querySelector('meta[name="description"]');
            if (!metaDesc) {
                metaDesc = document.createElement('meta');
                metaDesc.setAttribute('name', 'description');
                document.head.appendChild(metaDesc);
            }
            metaDesc.setAttribute('content', description);
            
            // Update Open Graph tags
            updateMetaTag('property', 'og:title', `${excursion.title} - WeHostMorocco`);
            updateMetaTag('property', 'og:description', description);
            updateMetaTag('property', 'og:image', imageUrl);
            updateMetaTag('property', 'og:url', `${baseUrl}/excursion-details.html?id=${excursionId}`);
            
            // Update Twitter Card tags
            updateMetaTag('name', 'twitter:title', `${excursion.title} - WeHostMorocco`);
            updateMetaTag('name', 'twitter:description', description);
            updateMetaTag('name', 'twitter:image', imageUrl);
            
            // Update canonical URL
            let canonical = document.querySelector('link[rel="canonical"]');
            if (!canonical) {
                canonical = document.createElement('link');
                canonical.setAttribute('rel', 'canonical');
                document.head.appendChild(canonical);
            }
            canonical.setAttribute('href', `${baseUrl}/excursion-details.html?id=${excursionId}`);
        }
        
        // Helper function to update or create meta tags
        function updateMetaTag(attribute, name, content) {
            let meta = document.querySelector(`meta[${attribute}="${name}"]`);
            if (!meta) {
                meta = document.createElement('meta');
                meta.setAttribute(attribute, name);
                document.head.appendChild(meta);
            }
            meta.setAttribute('content', content);
        }

        // Load excursion details
        function loadExcursionDetails() {
            const excursionId = getExcursionId();
            console.log('DEBUG: Loading excursion with ID:', excursionId);
            
            // Get current language for excursion data
            const currentLang = localStorage.getItem('site_lang') || 'en';
            console.log('DEBUG: Current language:', currentLang);
            console.log('DEBUG: excursionsData exists?', typeof excursionsData !== 'undefined');
            console.log('DEBUG: excursionsData keys:', excursionsData ? Object.keys(excursionsData) : 'undefined');
            
            // Try to get multilingual data, fallback to old structure
            let excursion = null;
            const rawExcursion = excursionsData[excursionId];
            console.log('DEBUG: rawExcursion found?', !!rawExcursion);
            if (rawExcursion) {
                console.log('DEBUG: rawExcursion has shared?', !!rawExcursion.shared);
                console.log('DEBUG: rawExcursion has translations?', !!rawExcursion.translations);
            }
            
            if (rawExcursion) {
                // Check if it has the multilingual structure
                if (rawExcursion.shared && rawExcursion.translations) {
                    // Get language data with fallback to French
                    const langData = rawExcursion.translations[currentLang] || rawExcursion.translations.fr || rawExcursion.translations['fr'];
                    
                    console.log('DEBUG: rawExcursion.shared:', rawExcursion.shared);
                    console.log('DEBUG: langData for', currentLang, ':', langData);
                    console.log('DEBUG: rawExcursion.translations keys:', Object.keys(rawExcursion.translations));
                    
                    if (langData) {
                        // Use the dedicated merge function
                        excursion = mergeExcursionData(rawExcursion.shared, langData);
                        console.log('DEBUG: After merge, excursion keys:', Object.keys(excursion));
                        console.log('DEBUG: excursion.title:', excursion.title);
                        
                        // Verify merge worked and has required properties
                        if (!excursion || Object.keys(excursion).length === 0 || !excursion.title) {
                            console.error('Merge failed or missing title, trying fallback');
                            // Try French as fallback
                            const frLangData = rawExcursion.translations.fr || rawExcursion.translations['fr'];
                            console.log('DEBUG: Trying French fallback, frLangData:', frLangData);
                            if (frLangData) {
                                excursion = mergeExcursionData(rawExcursion.shared, frLangData);
                                console.log('DEBUG: After French merge, excursion keys:', Object.keys(excursion));
                            } else {
                                console.error('No French translation found either!');
                                excursion = excursions[excursionId];
                            }
                        }
                        
                        // Cleanup any remaining shared/translations
                        if (excursion) {
                            delete excursion.shared;
                            delete excursion.translations;
                        }
                    } else {
                        // No language data found, try fallback
                        console.warn('No language data found for:', currentLang, 'trying fallback');
                        console.warn('Available translations:', Object.keys(rawExcursion.translations));
                        excursion = excursions[excursionId];
                    }
                } else {
                    // Not a multilingual structure, try getExcursionData or fallback
                    excursion = getExcursionData(excursionId, currentLang);
                    // If getExcursionData returned raw structure, reject it and merge using function
                    if (excursion && (excursion.shared || excursion.translations)) {
                        // Get raw data and merge using function
                        const rawExcursion3 = excursionsData[excursionId];
                        if (rawExcursion3 && rawExcursion3.shared && rawExcursion3.translations) {
                            const langData3 = rawExcursion3.translations[currentLang] || rawExcursion3.translations.fr || rawExcursion3.translations['fr'];
                            if (langData3) {
                                excursion = mergeExcursionData(rawExcursion3.shared, langData3);
                            } else {
                                excursion = excursions[excursionId];
                            }
                        } else {
                            excursion = excursions[excursionId];
                        }
                    }
                    if (!excursion || !excursion.title) {
                        excursion = excursions[excursionId];
                    }
                }
            } else {
                // Not in excursionsData, try old structure
                excursion = excursions[excursionId];
            }

            if (!excursion) {
                console.error('DEBUG: Excursion not found!');
                console.error('DEBUG: excursionId:', excursionId);
                console.error('DEBUG: rawExcursion:', rawExcursion);
                console.error('DEBUG: excursionsData[excursionId]:', excursionsData[excursionId]);
                console.error('DEBUG: excursions[excursionId]:', excursions[excursionId]);
                console.error('DEBUG: Available excursionsData keys:', Object.keys(excursionsData));
                console.error('DEBUG: Available excursions keys:', Object.keys(excursions));
                showError('Excursion non trouv√©e');
                return;
            }
            
            // Final cleanup: ensure no shared/translations remain
            if (excursion) {
                if (excursion.shared || excursion.translations) {
                    delete excursion.shared;
                    delete excursion.translations;
                }
            }

            // Check if this is an airport transfer service
            const isAirportTransfer = excursionId === 'transfert-aeroport' || excursionId === 'transfert-aeroport-sur-mesure';
            
            // Verify excursion has required properties
            if (!excursion || !excursion.title) {
                console.error('CRITICAL: Excursion missing title or is null/undefined');
                console.error('Excursion object:', excursion);
                console.error('Excursion keys:', excursion ? Object.keys(excursion) : 'null/undefined');
                showError('Erreur lors du chargement de l\'excursion');
                return;
            }
            
            // Update page content - show title and description for all excursions including airport transfers
            const titleElement = document.getElementById('excursion-title');
            if (titleElement) {
                titleElement.textContent = excursion.title || 'Titre non disponible';
            }
            
            const descriptionElement = document.getElementById('excursion-description');
            if (descriptionElement) {
                // Convert newlines to HTML breaks for better formatting
                descriptionElement.textContent = excursion.description || 'Description non disponible';
                descriptionElement.style.whiteSpace = 'pre-line';
            }
            
            // Update SEO meta tags dynamically
            if (excursion.title && excursion.description) {
                updateSEOMetaTags(excursion, excursionId);
            }
            
            // Update page content only for non-airport transfer excursions
            if (!isAirportTransfer) {
                const durationElement = document.getElementById('excursion-duration');
                if (durationElement && excursion.duration) {
                    durationElement.textContent = excursion.duration;
                }
            }
            
            const storedCurrency = localStorage.getItem('site_currency') || 'eur';

            // Use the full price for the badge
            const priceBadgeEl = document.getElementById('excursion-price');
            if (priceBadgeEl && excursion.price) {
                applyPriceToElement(priceBadgeEl, excursion.price, storedCurrency, 'primary');
            }
            
            // Only show price display for non-airport transfer excursions
            if (!isAirportTransfer) {
                const priceDisplay = document.getElementById('excursion-price-display');
                // Special handling for tour-marrakech with two price options
                if (excursionId === 'tour-marrakech' && excursion.halfDayPrice && excursion.fullDayPrice) {
                    if (priceDisplay) {
                        priceDisplay.removeAttribute('data-price-eur');
                        priceDisplay.removeAttribute('data-price-prefix');
                        priceDisplay.removeAttribute('data-price-suffix');
                        priceDisplay.removeAttribute('data-price-role');
                        priceDisplay.innerHTML = '';
                        const container = document.createElement('div');
                        container.className = 'space-y-2 p-3 bg-gray-50 rounded-lg';

                        const halfRow = document.createElement('div');
                        halfRow.className = 'flex items-center text-sm';
                        const halfLabel = document.createElement('span');
                        halfLabel.className = 'font-medium';
                        halfLabel.textContent = '¬Ω journ√©e: ';
                        const halfValue = document.createElement('span');
                        halfValue.className = 'font-bold text-primary';
                        applyPriceToElement(halfValue, excursion.halfDayPrice, storedCurrency, 'half-day');
                        halfLabel.appendChild(halfValue);
                        halfRow.appendChild(halfLabel);

                        const fullRow = document.createElement('div');
                        fullRow.className = 'flex items-center text-sm';
                        const fullLabel = document.createElement('span');
                        fullLabel.className = 'font-medium';
                        fullLabel.textContent = 'Journ√©e compl√®te: ';
                        const fullValue = document.createElement('span');
                        fullValue.className = 'font-bold text-primary';
                        applyPriceToElement(fullValue, excursion.fullDayPrice, storedCurrency, 'full-day');
                        fullLabel.appendChild(fullValue);
                        fullRow.appendChild(fullLabel);

                        container.appendChild(halfRow);
                        container.appendChild(fullRow);
                        priceDisplay.appendChild(container);
                    }
                } else {
                    if (priceDisplay) {
                        applyPriceToElement(priceDisplay, excursion.price, storedCurrency, 'display');
                    }
                }
            }
            
            // Create carousel for excursions with multiple images, single image for others
            const prevButton = document.querySelector('.carousel-prev');
            const nextButton = document.querySelector('.carousel-next');
            const dotsContainer = document.querySelector('#hero-carousel .absolute.bottom-3');
            
            if ((excursionId === 'ouzoud' || excursionId === 'merzouga' || excursionId === 'chez-ali-fantasia' || excursionId === 'essaouira' || excursionId === 'agadir-boat-trip' || excursionId === 'agafay' || excursionId === 'ourika' || excursionId === 'transfert-aeroport' || excursionId === 'transfert-aeroport-sur-mesure' || excursionId === 'tour-marrakech' || excursionId === 'guide-prive' || excursionId === 'hot-air-balloon-classic' || excursionId === 'hot-air-balloon-premium' || excursionId === 'hot-air-balloon-vip') && excursion.images && excursion.images.length > 1) {
                createCarousel(excursion);
                // Show arrows and dots for multiple images
                if (prevButton) prevButton.style.display = 'flex';
                if (nextButton) nextButton.style.display = 'flex';
                if (dotsContainer) dotsContainer.style.display = 'flex';
            } else {
                // Fallback to single image for other excursions
                const carouselTrack = document.getElementById('hero-carousel-track');
                carouselTrack.innerHTML = `<div class="carousel-slide min-w-full"><img src="${excursion.image}" alt="${excursion.title}" class="w-full object-cover"></div>`;
                // Hide arrows and dots for single image
                if (prevButton) prevButton.style.display = 'none';
                if (nextButton) nextButton.style.display = 'none';
                if (dotsContainer) dotsContainer.style.display = 'none';
            }
            
            // Only populate details info for non-airport transfer excursions
            if (!isAirportTransfer) {
                // Hide group size display if empty
                const groupSizeContainer = document.getElementById('excursion-group-size-container');
                if (excursion.groupSize && excursion.groupSize.trim() !== '') {
                    document.getElementById('excursion-group-size').textContent = excursion.groupSize;
                    groupSizeContainer.style.display = '';
                } else {
                    groupSizeContainer.style.display = 'none';
                }
                document.getElementById('excursion-difficulty').textContent = excursion.difficulty;
                document.getElementById('excursion-transport').textContent = excursion.transport;
                document.getElementById('excursion-guide').textContent = excursion.guide;
            }

            // Update hidden form fields
            document.getElementById('excursion-id').value = excursionId;
            document.getElementById('excursion-name').value = excursion.title;
            // Set max people count for all excursions to 4
            const peopleCountInput = document.getElementById('people-count');
            peopleCountInput.setAttribute('max', '4');
            peopleCountInput.value = Math.min(parseInt(peopleCountInput.value), 4);
            
            // Handle time field for hot air balloon excursions
            const isHotAirBalloon = excursionId === 'hot-air-balloon-classic' || 
                                    excursionId === 'hot-air-balloon-premium' || 
                                    excursionId === 'hot-air-balloon-vip';
            
            const timeSelect = document.getElementById('time-select');
            const timeTextDisplay = document.getElementById('time-text-display');
            
            if (isHotAirBalloon) {
                // Hide select and show text for hot air balloons
                if (timeSelect) timeSelect.classList.add('hidden');
                if (timeTextDisplay) timeTextDisplay.classList.remove('hidden');
            } else {
                // Show select and hide text for other excursions
                if (timeSelect) timeSelect.classList.remove('hidden');
                if (timeTextDisplay) timeTextDisplay.classList.add('hidden');
            }
            
            // Show transport option section only for chez-ali-fantasia
            const transportOptionSection = document.getElementById('transport-option-section');
            if (transportOptionSection) {
                if (excursionId === 'chez-ali-fantasia') {
                    transportOptionSection.style.display = '';
                } else {
                    transportOptionSection.style.display = 'none';
                }
            }

            // Show duration option section only for tour-marrakech
            const durationOptionSection = document.getElementById('duration-option-section');
            const durationOptionSelect = document.getElementById('duration-option');
            if (durationOptionSection) {
                if (excursionId === 'tour-marrakech') {
                    durationOptionSection.style.display = 'block';
                    // Make field required when visible
                    if (durationOptionSelect) {
                        durationOptionSelect.setAttribute('required', 'required');
                    }
                } else {
                    durationOptionSection.style.display = 'none';
                    // Remove required attribute when hidden to prevent validation error
                    if (durationOptionSelect) {
                        durationOptionSelect.removeAttribute('required');
                    }
                }
            }

            // Update price in form when duration is selected (for tour-marrakech)
            if (excursionId === 'tour-marrakech' && excursion.halfDayPrice && excursion.fullDayPrice) {
                const durationSelect = document.getElementById('duration-option');
                const priceInput = document.getElementById('excursion-price-value');
                
                if (durationSelect && priceInput) {
                    durationSelect.addEventListener('change', function() {
                        syncBookingPriceInput();
                    });
                }
            }

            syncBookingPriceInput();
            
            if (isAirportTransfer) {
                // Show title and description for airport transfers, hide other sections
                const mainContent = document.querySelector('.lg\\:col-span-2');
                if (mainContent) {
                    // Keep title and description visible, hide other sections
                    
                    // Hide price display section
                    const priceDisplaySection = mainContent.querySelector('.bg-white.border-2.border-primary');
                    if (priceDisplaySection) priceDisplaySection.style.display = 'none';
                    
                    // Hide highlights section
                    const highlightsSection = mainContent.querySelector('.bg-gray-50.rounded-2xl');
                    if (highlightsSection) highlightsSection.style.display = 'none';
                    
                    // Hide itinerary and included sections
                    const itinerarySection = mainContent.querySelectorAll('.bg-white.border.border-gray-200.rounded-2xl.p-6');
                    itinerarySection.forEach(section => {
                        const h3 = section.querySelector('h3');
                        if (h3 && (h3.textContent.includes('Itin√©raire') || h3.textContent.includes('Points forts') || h3.textContent.includes('Ce qui est inclus'))) {
                            section.style.display = 'none';
                        }
                    });
                }
                
                document.querySelector('.lg\\:col-span-1').style.display = 'none'; // Sidebar section
                
                // Update booking form title for airport transfers
                const bookingTitle = document.querySelector('#booking-form h2');
                const bookingDescription = document.querySelector('#booking-form p.text-gray-600.text-lg');
                if (bookingTitle) {
                    bookingTitle.textContent = 'R√©server votre transfert';
                }
                if (bookingDescription) {
                    bookingDescription.textContent = 'Remplissez le formulaire ci-dessous pour r√©server votre transfert';
                }
                
                // Completely eliminate spacing between image and form
                const heroSection = document.querySelector('.hero-section');
                if (heroSection) {
                    heroSection.style.marginBottom = '0px';
                    heroSection.style.paddingBottom = '0px';
                }
                
                const gridContainer = document.querySelector('.grid.grid-cols-1.lg\\:grid-cols-3.gap-8.mb-12');
                if (gridContainer) {
                    gridContainer.style.marginTop = '0px';
                    gridContainer.style.marginBottom = '0px';
                    gridContainer.style.gap = '0px';
                    gridContainer.style.paddingTop = '0px';
                    gridContainer.style.paddingBottom = '0px';
                }
                
                // Remove all spacing from the main container
                const mainContainer = document.querySelector('.container.mx-auto.px-4.py-8');
                if (mainContainer) {
                    mainContainer.style.paddingTop = '0px';
                    mainContainer.style.paddingBottom = '0px';
                }
                
                // Show only the booking form with no top margin
                const bookingForm = document.querySelector('.bg-white.border.border-gray-200.rounded-2xl.p-6.sticky.top-24');
                if (bookingForm) {
                    bookingForm.style.display = 'block';
                    bookingForm.style.position = 'static';
                    bookingForm.style.width = '100%';
                    bookingForm.style.maxWidth = '500px';
                    bookingForm.style.margin = '0 auto';
                    bookingForm.style.marginTop = '0px';
                    bookingForm.style.paddingTop = '10px';
                }
            } else {
                // Show all sections for other excursions and reset spacing
                document.querySelector('.lg\\:col-span-2').style.display = 'block'; // Main content section
                document.querySelector('.lg\\:col-span-1').style.display = 'block'; // Sidebar section
                document.querySelector('.bg-gray-50.rounded-2xl.p-6.mb-8').style.display = 'block'; // Highlights
                document.querySelector('.bg-white.border.border-gray-200.rounded-2xl.p-6.mb-8').style.display = 'block'; // Itinerary
                document.querySelector('.bg-white.border.border-gray-200.rounded-2xl.p-6').style.display = 'block'; // Included/Not included
                
                // Reset spacing for other excursions
                const heroSection = document.querySelector('.hero-section');
                if (heroSection) {
                    heroSection.style.marginBottom = '';
                    heroSection.style.paddingBottom = '';
                }
                
                const gridContainer = document.querySelector('.grid.grid-cols-1.lg\\:grid-cols-3.gap-8.mb-12');
                if (gridContainer) {
                    gridContainer.style.marginTop = '';
                    gridContainer.style.marginBottom = '';
                    gridContainer.style.gap = '';
                    gridContainer.style.paddingTop = '';
                    gridContainer.style.paddingBottom = '';
                }
                
                const mainContainer = document.querySelector('.container.mx-auto.px-4.py-8');
                if (mainContainer) {
                    mainContainer.style.paddingTop = '';
                    mainContainer.style.paddingBottom = '';
                }
                
                const bookingForm = document.querySelector('.bg-white.border.border-gray-200.rounded-2xl.p-6.sticky.top-24');
                if (bookingForm) {
                    bookingForm.style.position = '';
                    bookingForm.style.width = '';
                    bookingForm.style.maxWidth = '';
                    bookingForm.style.margin = '';
                    bookingForm.style.marginTop = '';
                    bookingForm.style.paddingTop = '';
                }
                
                // Populate highlights
                const highlightsContainer = document.getElementById('excursion-highlights');
                if (highlightsContainer) {
                    if (excursion.highlights && Array.isArray(excursion.highlights) && excursion.highlights.length > 0) {
                        highlightsContainer.innerHTML = excursion.highlights.map(highlight => 
                            `<div class="flex items-center">
                                <i class="fas fa-star text-primary mr-3"></i>
                                <span>${highlight}</span>
                            </div>`
                        ).join('');
                    } else {
                        // Log warning if highlights are missing
                        if (!excursion.highlights) {
                            console.warn('Highlights missing for excursion:', excursionId, excursion);
                        }
                        highlightsContainer.innerHTML = '';
                    }
                }

                // Populate itinerary
                const itineraryContainer = document.getElementById('excursion-itinerary');
                if (itineraryContainer && excursion.itinerary && Array.isArray(excursion.itinerary)) {
                    itineraryContainer.innerHTML = excursion.itinerary.map((item, index) => 
                        `<div class="flex items-start">
                            <div class="bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-4 mt-1">${index + 1}</div>
                            <span>${item}</span>
                        </div>`
                    ).join('');
                } else if (itineraryContainer) {
                    itineraryContainer.innerHTML = '';
                }

                // Function to hide/show sections - called after translations are applied
                function hideSectionsForAirportTransfers() {
                    // Hide itinerary section for airport transfers (all languages)
                    // Use data-i18n attribute for reliable selection
                    const itinerarySection = document.querySelector('h3[data-i18n="excursion.itinerary_title"]')?.closest('.bg-white.border.border-gray-200.rounded-2xl.p-6');

                    // Hide included/not included section for guide-prive and airport transfers
                    // Use data-i18n attribute for reliable selection
                    const includedSection = document.querySelector('h3[data-i18n="excursion.included_title"]')?.closest('.bg-white.border.border-gray-200.rounded-2xl.p-6');
                    
                    // Hide sections for airport transfers in all languages
                    if (excursionId === 'transfert-aeroport' || excursionId === 'transfert-aeroport-sur-mesure') {
                        if (includedSection) {
                            includedSection.style.display = 'none';
                        }
                        if (itinerarySection) {
                            itinerarySection.style.display = 'none';
                        }
                    } else if (excursionId === 'guide-prive') {
                        // Hide included section for guide-prive (all languages)
                        if (includedSection) {
                            includedSection.style.display = 'none';
                        }
                    } else {
                        if (includedSection) {
                            includedSection.style.display = 'block';
                        }
                        if (itinerarySection) {
                            itinerarySection.style.display = 'block';
                        }
                    }
                }
                
                // Call immediately
                hideSectionsForAirportTransfers();
                
                // Also call after DOM updates to ensure translations are applied
                requestAnimationFrame(() => {
                    hideSectionsForAirportTransfers();
                    setTimeout(hideSectionsForAirportTransfers, 50);
                });
                
                // Also hide sections immediately using CSS to prevent flash of content
                if (excursionId === 'transfert-aeroport' || excursionId === 'transfert-aeroport-sur-mesure') {
                    const itinerarySection = document.querySelector('h3[data-i18n="excursion.itinerary_title"]')?.closest('.bg-white.border.border-gray-200.rounded-2xl.p-6');
                    const includedSection = document.querySelector('h3[data-i18n="excursion.included_title"]')?.closest('.bg-white.border.border-gray-200.rounded-2xl.p-6');
                    if (itinerarySection) {
                        itinerarySection.style.display = 'none';
                    }
                    if (includedSection) {
                        includedSection.style.display = 'none';
                    }
                }
                
                // Populate included items (only if section is visible)
                if (excursionId !== 'guide-prive' && excursionId !== 'transfert-aeroport' && excursionId !== 'transfert-aeroport-sur-mesure') {
                    const includedContainer = document.getElementById('excursion-included');
                    if (includedContainer && excursion.included && excursion.included.length > 0) {
                        includedContainer.innerHTML = excursion.included.map(item => 
                            `<li class="flex items-center">
                                <i class="fas fa-check text-green-500 mr-2"></i>
                                <span>${item}</span>
                            </li>`
                        ).join('');
                    }

                    // Populate not included items
                    const notIncludedContainer = document.getElementById('excursion-not-included');
                    if (notIncludedContainer && excursion.notIncluded && excursion.notIncluded.length > 0) {
                        notIncludedContainer.innerHTML = excursion.notIncluded.map(item => 
                            `<li class="flex items-center">
                                <i class="fas fa-times text-red-500 mr-2"></i>
                                <span>${item}</span>
                            </li>`
                        ).join('');
                    }
                }
            }

            // Set minimum date to today
            const dateInput = document.querySelector('input[name="date"]');
            const today = new Date().toISOString().split('T')[0];
            dateInput.min = today;

            // Show content
            document.getElementById('loading').classList.add('hidden');
            document.getElementById('excursion-content').classList.remove('hidden');
        }

        // Change number of people
        function changePeople(delta) {
            const input = document.getElementById('people-count');
            const maxPeople = parseInt(input.getAttribute('max')) || 4;
            const newValue = Math.max(1, Math.min(maxPeople, parseInt(input.value) + delta));
            input.value = newValue;
        }

        // Change group number
        function changeGroupNumber(delta) {
            const input = document.getElementById('group-number');
            const maxGroup = parseInt(input.getAttribute('max')) || 10;
            const newValue = Math.max(1, Math.min(maxGroup, parseInt(input.value) + delta));
            input.value = newValue;
        }

        // Change van count
        function changeVanCount(delta) {
            const input = document.getElementById('van-count');
            const maxVans = parseInt(input.getAttribute('max')) || 5;
            const newValue = Math.max(0, Math.min(maxVans, parseInt(input.value) + delta));
            input.value = newValue;
        }

        // Scroll to booking form
        function scrollToBooking() {
            document.getElementById('booking-form').scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }

        // Show error message
        function showError(message) {
            const loading = document.getElementById('loading');
            loading.innerHTML = `
                <div class="text-center py-20">
                    <i class="fas fa-exclamation-triangle text-red-500 text-6xl mb-4"></i>
                    <h2 class="text-2xl font-bold text-red-600 mb-2">Erreur</h2>
                    <p class="text-gray-600">${message}</p>
                    <a href="index.html" class="inline-block mt-4 bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary-dark transition-colors">
                        Retour √† l'accueil
                    </a>
                </div>
            `;
        }

        // Handle form submission
        document.getElementById('excursion-booking-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Ensure duration_option is not required when section is hidden
            const durationOptionSection = document.getElementById('duration-option-section');
            const durationOptionSelect = document.getElementById('duration-option');
            if (durationOptionSection && durationOptionSelect) {
                if (durationOptionSection.style.display === 'none' || 
                    window.getComputedStyle(durationOptionSection).display === 'none') {
                    durationOptionSelect.removeAttribute('required');
                }
            }
            
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            
            // Show loading state
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Envoi en cours...';
            submitBtn.disabled = true;
            
            const formData = new FormData(this);
            const bookingData = Object.fromEntries(formData.entries());
            
            // Get excursion details
            const excursionName = document.getElementById('excursion-name').value || 'Excursion s√©lectionn√©e';
            const excursionPrice = document.getElementById('excursion-price-value').value || 'Prix sur demande';
            
            // Get country code and phone
            const countryCode = formData.get('country_code') || '+212';
            const phone = formData.get('phone');
            const fullPhone = countryCode + ' ' + phone;
            
            // Get duration option text
            let durationText = '';
            if (bookingData.duration_option) {
                durationText = bookingData.duration_option === 'half-day' ? '¬Ω journ√©e' : 'Journ√©e compl√®te';
            }

            // Create email content
            const subject = encodeURIComponent(`R√©servation d'excursion - ${excursionName}`);
            const body = encodeURIComponent(`
Nouvelle r√©servation d'excursion re√ßue :

üè∑Ô∏è Excursion : ${excursionName}
üí∞ Prix : ${excursionPrice}
${durationText ? `‚è±Ô∏è Dur√©e : ${durationText}` : ''}

üìÖ Date souhait√©e : ${bookingData.date || 'Non sp√©cifi√©e'}
‚è∞ Heure de d√©part : ${bookingData.time || 'Non sp√©cifi√©e'}
üë• Nombre de personnes : ${bookingData.people || 'Non sp√©cifi√©'} | üè∑Ô∏è Nombre de groupe : ${bookingData.group_number || 'Non sp√©cifi√©'}
üöê Nombre de Van : ${bookingData.van_count || '0'}

üë§ Pr√©nom : ${bookingData.first_name || 'Non sp√©cifi√©'}
üë§ Nom : ${bookingData.last_name || 'Non sp√©cifi√©'}
üìß Email : ${bookingData.email || 'Non sp√©cifi√©'}
üìû T√©l√©phone : ${fullPhone || 'Non sp√©cifi√©'}

üí¨ Demandes sp√©ciales :
${bookingData.special_requests || 'Aucune demande sp√©ciale'}

---
Cette r√©servation a √©t√© envoy√©e depuis la page de d√©tails de l'excursion.
            `);
            
            // Use mailto link to send email
            const mailtoLink = `mailto:Wehostmorocco@gmail.com?subject=${subject}&body=${body}`;
            try {
                window.location.href = mailtoLink;
                this.reset();
                document.getElementById('people-count').value = 1;
            } catch (error) {
                console.error('Error opening email client:', error);
                alert('Une erreur est survenue. Veuillez r√©essayer.');
            }
            
            // Reset button state
            setTimeout(() => {
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }, 2000);
        });

        // Prevent double-click zoom
        function preventDoubleClickZoom() {
            let lastTouchEnd = 0;
            document.addEventListener('touchend', function (event) {
                const now = Date.now();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
            
            // Prevent double-click zoom on carousel and images
            setTimeout(() => {
                const carousel = document.getElementById('hero-carousel');
                const carouselTrack = document.getElementById('hero-carousel-track');
                const prevButton = document.querySelector('.carousel-prev');
                const nextButton = document.querySelector('.carousel-next');
                
                [carousel, carouselTrack, prevButton, nextButton].forEach(element => {
                    if (element) {
                        element.addEventListener('dblclick', function(e) {
                            e.preventDefault();
                        });
                    }
                });
                
                // Prevent double-tap zoom on all images
                document.querySelectorAll('img').forEach(img => {
                    img.addEventListener('dblclick', function(e) {
                        e.preventDefault();
                    });
                });
            }, 500);
        }
        
        // Hide sections for airport transfers immediately on page load (before DOM is fully ready)
        (function() {
            const urlParams = new URLSearchParams(window.location.search);
            const excursionId = urlParams.get('id');
            if (excursionId === 'transfert-aeroport' || excursionId === 'transfert-aeroport-sur-mesure') {
                // Hide sections as soon as they exist in DOM
                function hideAirportTransferSections() {
                    const itinerarySection = document.querySelector('h3[data-i18n="excursion.itinerary_title"]')?.closest('.bg-white.border.border-gray-200.rounded-2xl.p-6');
                    const includedSection = document.querySelector('h3[data-i18n="excursion.included_title"]')?.closest('.bg-white.border.border-gray-200.rounded-2xl.p-6');
                    if (itinerarySection) {
                        itinerarySection.style.display = 'none';
                    }
                    if (includedSection) {
                        includedSection.style.display = 'none';
                    }
                }
                
                // Try to hide immediately
                if (document.readyState === 'loading') {
                    document.addEventListener('DOMContentLoaded', hideAirportTransferSections);
                } else {
                    hideAirportTransferSections();
                }
                
                // Also use MutationObserver to catch sections when they're added dynamically
                const observer = new MutationObserver(hideAirportTransferSections);
                observer.observe(document.body, { childList: true, subtree: true });
                
                // Hide repeatedly to catch any timing issues
                setTimeout(hideAirportTransferSections, 0);
                setTimeout(hideAirportTransferSections, 10);
                setTimeout(hideAirportTransferSections, 50);
                setTimeout(hideAirportTransferSections, 100);
                setTimeout(hideAirportTransferSections, 200);
            }
        })();
        
        // Load excursion details when page loads
        document.addEventListener('DOMContentLoaded', function() {
            loadExcursionDetails();
            preventDoubleClickZoom();
        });

        // Hide R√©server button on non-homepage pages
        document.addEventListener('DOMContentLoaded', function() {
            const reserverBtn = document.querySelector('.reserver-btn');
            const reserverBtnMobile = document.querySelector('.reserver-btn-mobile');
            const reserverMobileSection = document.querySelector('.reserver-mobile-section');
            
            if (reserverBtn) {
                reserverBtn.style.display = 'none';
            }
            if (reserverBtnMobile) {
                reserverBtnMobile.style.display = 'none';
            }
            if (reserverMobileSection) {
                reserverMobileSection.style.display = 'none';
            }
        });
    </script>
</body>
</html>
